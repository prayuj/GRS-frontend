{"version":3,"sources":["components/PrivateRoute.js","components/loadingSpinner.js","components/login.js","components/customer.js","components/games.js","components/game.js","components/dashboard.js","components/customers.js","components/transaction.js","components/transactions.js","components/gamePage.js","components/customerPage.js","components/transactionPage.js","components/gameForm.js","components/addGame.js","components/customerForm.js","components/addCustomer.js","components/updateCustomer.js","components/addPlan.js","components/updateGame.js","components/issue.js","components/return.js","components/notFound.js","App.js","index.js"],"names":["PrivateRoute","Component","component","rest","render","props","localStorage","getItem","to","pathname","state","from","location","LoadingSpinner","animation","role","className","Login","handleChange","event","setState","target","id","value","renderRedirect","redirect","push","removeItem","email","password","login_validating","handleLogin","bind","this","length","e","preventDefault","axios","post","then","res","data","isLoggedIn","setItem","onSubmit","alert","style","margin","textAlign","FormGroup","controlId","bsSize","FormLabel","FormControl","autoFocus","type","onChange","Button","block","disabled","validateForm","Body","Customer","setRedirect","console","log","mode","display","sr","name","noOfGames","dateOfJoin","dateOfMembershipEnd","dateEnding","nextProps","nextState","onClick","Games","games","filtered","ascendingName","ascendingAvailable","nameSortButtonValue","availableSortButtonValue","games_loaded","onClickForSort","getGames","get","newList","filter","item","lc","toLowerCase","includes","sort","a","b","x","y","arrow","numberAvailable","placeholder","marginTop","paddingBottom","map","game","index","_id","availableIn","numberPS4Available","numberXBOXAvailable","noAvailable","colSpan","position","top","left","Game","redirect_to_game","redirect_to_transaction","status","cust_name","dateIssue","dateReturn","gameingConsole","Dashboard","customers","issue_game","return_game","search","dateFrom","dateTo","CustomersAdded","MembershipEnding","GamesIssued","GamesReturn","message","issue_game_loaded","return_game_loaded","customers_loaded","getDetails","getCustomers","getIssuedGames","getReturnedGames","getDashboardDetails","getToday","dates","date","Date","dd","String","getDate","padStart","mm","parseInt","getMonth","yyyy","getFullYear","today","convertDate","max","min","gameInfo","customerInfo","date_issue","date_return","padding","customer","latestMembership","end","Customers","ascendingDOJ","ascendingMembershipEnd","ascendingNoOfGames","DOJSortButtonValue","membershipEndSortButtonValue","noOfGamesSortButtonValue","currentList","secondList","firstList","i","flag","j","JSON","stringify","active","Transaction","game_name","customer_name","Transactions","transactions","ascendingCustomerName","ascendingGameName","ascendingDateIssue","ascendingDateReturn","customerNameSortButtonValue","gameNameSortButtonValue","dateIssueButtonValue","dateReturnButtonValue","dateIssueFrom","dateIssueTo","dateReturnFrom","dateReturnTo","transactions_loaded","getTransactions","getIssueDates","getReturnDates","concat","return","transaction","GamePage","attributes","transaction_id","redirect_to_update","redirect_to_issue","redirect_to_add_plan","match","params","description","name_description_loaded","data_loaded","history_loaded","history","getGameDetail","getGameItemDetail","getHistory","catch","err","items","serial_no","convertedId","hist","CustomerPage","otp_issued","verifying","modal_show","redirect_to_return","handleClick","getCustomerDetail","getCustomerGameHistory","otp","customer_id","isVerify","membership","member","plan","start","address","address2","zip","mobile_no","alt_mobile_no","show","Header","Title","Footer","variant","TransactionPage","redirect_to_customer","getTransactionDetails","confirmReturn","modalClose","ids","split","getHours","getMinutes","game_id","item_id","GameForm","mrp","old_items","id_count","count","onAdd","onDelete","handleForm","onChangeOfAvailableButton","nameChange","descriptionChange","itemsChange","new","temp_old_items","toString","splice","required","selected","responsible","AddGame","redirect_to_dashboard","game_description","game_properties","serial","temp_game_properties","consol","newGame","CustomerForm","city","hidden","for","defaultValue","AddCustomer","endDate","address1","inputCity","inputZip","mobileNo1","mobileNo2","UpdateCustomer","getData","AddPlan","getPlans","new_membership","UpdateGame","getGame","temp_items","Issue","transactionid","button_disable","handleGameChange","confirmIssue","customers_to_display","selected_console","cons","Return","games_to_return_loaded","games_to_return","NotFound","App","showNavbar","currentPath","window","expanded","onCickHandler","handleLogout","handleLoginInApp","basename","expand","onSelect","Toggle","aria-controls","Collapse","Link","as","eventKey","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b1b1fbb0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      localStorage.getItem(\"isLoggedIn\") ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/login\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n","import React from \"react\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nconst LoadingSpinner = () => (\r\n  <Spinner animation=\"border\" role=\"status\">\r\n    <span className=\"sr-only\">Loading...</span>\r\n  </Spinner>\r\n);\r\n\r\nexport default LoadingSpinner;\r\n","import React, { Component } from \"react\";\r\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    localStorage.removeItem(\"isLoggedIn\");\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      redirect: false,\r\n      login_validating: false,\r\n    };\r\n\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n  validateForm() {\r\n    return this.state.email.length > 0 && this.state.password.length > 0;\r\n  }\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.id]: event.target.value,\r\n    });\r\n  };\r\n  handleLogin(e) {\r\n    e.preventDefault();\r\n    this.setState({ login_validating: true });\r\n    axios\r\n      .post(\"https://prayuj-gamerent.herokuapp.com/login/\", {\r\n        email: e.target.email.value,\r\n        password: e.target.password.value,\r\n      })\r\n      .then((res) => {\r\n        if (!res.data.isLoggedIn) {\r\n          alert(\"Wrong Password\");\r\n        } else {\r\n          localStorage.setItem(\"isLoggedIn\", res.data.isLoggedIn);\r\n          this.setState({\r\n            redirect: true,\r\n          });\r\n          this.props.onSubmit();\r\n        }\r\n        this.setState({ login_validating: false });\r\n      });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/\"} />;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Login\" style={{ margin: \"1em\" }}>\r\n        {this.renderRedirect()}\r\n        <h1 style={{ textAlign: \"center\" }}>Login to Continue</h1>\r\n        <form onSubmit={this.handleLogin}>\r\n          <FormGroup controlId=\"email\" bsSize=\"large\">\r\n            <FormLabel>Email</FormLabel>\r\n            <FormControl\r\n              autoFocus\r\n              type=\"email\"\r\n              value={this.state.email}\r\n              onChange={this.handleChange}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup controlId=\"password\" bsSize=\"large\">\r\n            <FormLabel>Password</FormLabel>\r\n            <FormControl\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              type=\"password\"\r\n            />\r\n          </FormGroup>\r\n          {this.state.login_validating ? (\r\n            <Button block bsSize=\"large\" disabled>\r\n              <LoadingSpinner></LoadingSpinner>\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              block\r\n              bsSize=\"large\"\r\n              disabled={!this.validateForm()}\r\n              type=\"submit\"\r\n            >\r\n              Login\r\n            </Button>\r\n          )}\r\n          <Toast style={{ margin: \"1em\" }}>\r\n            <Toast.Body>\r\n              Email: prayuj@gmail.com<br></br>Password: hello\r\n            </Toast.Body>\r\n          </Toast>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Customer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n    if (props.mode == \"customers\")\r\n      this.state = {\r\n        display: \"customers\",\r\n        id: props.id,\r\n        sr: props.sr,\r\n        name: props.name,\r\n        email: props.email,\r\n        noOfGames: props.noOfGames,\r\n        dateOfJoin: props.dateOfJoin,\r\n        dateOfMembershipEnd: props.dateOfMembershipEnd\r\n      };\r\n    if (props.mode == \"dashboard\")\r\n      this.state = {\r\n        display: \"dashboard\",\r\n        id: props.id,\r\n        sr: props.sr,\r\n        name: props.name,\r\n        email: props.email,\r\n        dateEnding: props.dateEnding\r\n      };\r\n    this.setRedirect = this.setRedirect.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps, nextState) {\r\n    if (nextProps.mode == \"customers\")\r\n      this.setState({\r\n        display: \"customers\",\r\n        id: nextProps.id,\r\n        sr: nextProps.sr,\r\n        name: nextProps.name,\r\n        email: nextProps.email,\r\n        noOfGames: nextProps.noOfGames,\r\n        dateOfJoin: nextProps.dateOfJoin,\r\n        dateOfMembershipEnd: nextProps.dateOfMembershipEnd\r\n      });\r\n\r\n    if (nextProps.mode == \"dashboard\")\r\n      this.setState({\r\n        display: \"dashboard\",\r\n        id: nextProps.id,\r\n        sr: nextProps.sr,\r\n        name: nextProps.name,\r\n        email: nextProps.email,\r\n        dateEnding: nextProps.dateEnding\r\n      });\r\n  }\r\n  setRedirect = () => {\r\n    console.log(\"Test\");\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/customer/\" + this.state.id} />;\r\n    }\r\n  };\r\n  render() {\r\n    if (this.state.display === \"customers\")\r\n      return (\r\n        <tr onClick={this.setRedirect} id={this.state.id} className=\"items\">\r\n          {this.renderRedirect()}\r\n          <td>{this.state.sr}</td>\r\n          <td>{this.state.name}</td>\r\n          <td>{this.state.email}</td>\r\n          <td>{this.state.dateOfJoin}</td>\r\n          <td>{this.state.dateOfMembershipEnd}</td>\r\n\r\n          <td>{this.state.noOfGames}</td>\r\n        </tr>\r\n      );\r\n    if (this.state.display === \"dashboard\")\r\n      return (\r\n        <tr onClick={this.setRedirect} id={this.state.id} className=\"items\">\r\n          {this.renderRedirect()}\r\n          <td>{this.state.sr}</td>\r\n          <td>{this.state.name}</td>\r\n          <td>{this.state.email}</td>\r\n          <td>{this.state.dateEnding}</td>\r\n        </tr>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Customer;\r\n","import React, { Component } from \"react\";\r\nimport Game from \"./game\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Games extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      games: [],\r\n      filtered: [],\r\n      ascendingName: true,\r\n      ascendingAvailable: true,\r\n      nameSortButtonValue: <span>&darr;</span>,\r\n      availableSortButtonValue: \"Sort\",\r\n      games_loaded: false,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onClickForSort = this.onClickForSort.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getGames();\r\n  }\r\n\r\n  getGames() {\r\n    axios.get(\"https://prayuj-gamerent.herokuapp.com/game/\").then((res) => {\r\n      this.setState({\r\n        games: res.data,\r\n        filtered: res.data,\r\n        games_loaded: true,\r\n      });\r\n    });\r\n  }\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/add_game/\"} />;\r\n    }\r\n  };\r\n\r\n  handleChange(e) {\r\n    // Variable to hold the original version of the list\r\n    let currentList = [];\r\n    // Variable to hold the filtered list before putting into state\r\n    let newList = [];\r\n\r\n    // If the search bar isn't empty\r\n    if (e.target.value !== \"\") {\r\n      console.log(\"HERE 1\");\r\n      // Assign the original list to currentList\r\n      currentList = this.state.games;\r\n\r\n      // Use .filter() to determine which items should be displayed\r\n      // based on the search terms\r\n      newList = currentList.filter((item) => {\r\n        // change current item to lowercase\r\n        const lc = item.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      console.log(newList);\r\n    } else {\r\n      console.log(\"HERE 2\");\r\n      // If the search bar is empty, set newList to original task list\r\n      newList = this.state.games;\r\n    }\r\n    // Set the filtered state based on what our rules added to newList\r\n    this.setState({\r\n      filtered: newList,\r\n    });\r\n  }\r\n\r\n  onClickForSort(e) {\r\n    console.log(e.target.value);\r\n    if (e.target.value === \"Name\") {\r\n      let games = this.state.games;\r\n      games.sort((a, b) => {\r\n        var x = a.name.toLowerCase();\r\n        var y = b.name.toLowerCase();\r\n        if (this.state.ascendingName) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingName) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(games);\r\n      let arrow = this.state.ascendingName ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        games: games,\r\n        ascendingName: !this.state.ascendingName,\r\n        nameSortButtonValue: arrow,\r\n        availableSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Available\") {\r\n      let games = this.state.games;\r\n      games.sort((a, b) => {\r\n        var x = a.numberAvailable;\r\n        var y = b.numberAvailable;\r\n        if (this.state.ascendingAvailable) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingAvailable) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(games);\r\n      let arrow = this.state.ascendingAvailable ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        games: games,\r\n        ascendingAvailable: !this.state.ascendingAvailable,\r\n        availableSortButtonValue: arrow,\r\n        nameSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <input\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          value=\"Add Game\"\r\n          onClick={this.setRedirect}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search...\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Sr</th>\r\n                <th>\r\n                  Name\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Name\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.nameSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Available In</th>\r\n                <th>\r\n                  Number Available{\" \"}\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Available\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.availableSortButtonValue}\r\n                  </button>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.games_loaded ? (\r\n                this.state.filtered.map((game, index) => (\r\n                  <Game\r\n                    mode=\"games\"\r\n                    _id={game._id}\r\n                    sr={index + 1}\r\n                    name={game.name}\r\n                    availableIn={\r\n                      game.numberPS4Available > 0\r\n                        ? game.numberXBOXAvailable > 0\r\n                          ? [\"PS4\", \"XBOX One\"]\r\n                          : [\"PS4\"]\r\n                        : game.numberXBOXAvailable > 0\r\n                        ? [\"XBOX One\"]\r\n                        : [\"Not Available\"]\r\n                    }\r\n                    noAvailable={game.numberAvailable}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"4\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Games;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Games from \"./games\";\r\n\r\nclass Game extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n    if (props.mode == \"games\")\r\n      this.state = {\r\n        mode: \"games\",\r\n        _id: props._id,\r\n        sr: props.sr,\r\n        name: props.name,\r\n        availableIn: props.availableIn,\r\n        status: props.status,\r\n        noAvailable: props.noAvailable,\r\n        redirect: false\r\n      };\r\n    if (props.mode == \"issue\")\r\n      this.state = {\r\n        mode: \"issue\",\r\n        _id: props._id,\r\n        cust_name: props.cust_name,\r\n        sr: props.sr,\r\n        name: props.name,\r\n        dateIssue: props.dateIssue,\r\n        redirect: false\r\n      };\r\n\r\n    if (props.mode == \"return\")\r\n      this.state = {\r\n        mode: \"return\",\r\n        _id: props._id,\r\n        sr: props.sr,\r\n        name: props.name,\r\n        cust_name: props.cust_name,\r\n        dateIssue: props.dateIssue,\r\n        dateReturn: props.dateReturn,\r\n        redirect: false\r\n      };\r\n\r\n    this.setRedirect = this.setRedirect.bind(this);\r\n  }\r\n  componentWillReceiveProps(nextProps, nextState) {\r\n    console.log(nextProps.mode.display);\r\n    if (nextProps.mode == \"games\")\r\n      this.setState({\r\n        mode: \"games\",\r\n        _id: nextProps._id,\r\n        sr: nextProps.sr,\r\n        name: nextProps.name,\r\n        availableIn: nextProps.availableIn,\r\n        status: nextProps.status,\r\n        noAvailable: nextProps.noAvailable,\r\n        redirect: false\r\n      });\r\n\r\n    if (nextProps.mode == \"dashboard\")\r\n      this.setState({\r\n        display: \"dashboard\",\r\n        id: nextProps.id,\r\n        sr: nextProps.sr,\r\n        name: nextProps.name,\r\n        email: nextProps.email,\r\n        dateOfJoin: nextProps.dateOfJoin\r\n      });\r\n  }\r\n\r\n  setRedirect = () => {\r\n    if (this.state.mode === \"games\")\r\n      this.setState({\r\n        redirect_to_game: true\r\n      });\r\n    else if (this.state.mode === \"issue\" || this.state.mode === \"return\")\r\n      this.setState({\r\n        redirect_to_transaction: true\r\n      });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_game) {\r\n      return <Redirect push to={\"/game/\" + this.state._id} />;\r\n    }\r\n    if (this.state.redirect_to_transaction) {\r\n      return <Redirect push to={\"/transaction/\" + this.state._id} />;\r\n    }\r\n  };\r\n  render() {\r\n    if (this.state.mode === \"games\")\r\n      return (\r\n        <tr onClick={this.setRedirect} id={this.state._id} className=\"items\">\r\n          {this.renderRedirect()}\r\n          <td>{this.state.sr}</td>\r\n          <td>{this.state.name}</td>\r\n          <td>\r\n            {this.state.availableIn.map(gameingConsole => gameingConsole + \" \")}\r\n          </td>\r\n          <td>{this.state.noAvailable}</td>\r\n        </tr>\r\n      );\r\n    if (this.state.mode === \"issue\")\r\n      return (\r\n        <tr onClick={this.setRedirect} id={this.state._id} className=\"items\">\r\n          {this.renderRedirect()}\r\n          <td>{this.state.sr}</td>\r\n          <td>{this.state.name}</td>\r\n          <td>{this.state.cust_name}</td>\r\n          <td>{this.state.dateIssue}</td>\r\n        </tr>\r\n      );\r\n    if (this.state.mode === \"return\")\r\n      return (\r\n        <tr onClick={this.setRedirect} id={this.state._id} className=\"items\">\r\n          {this.renderRedirect()}\r\n          <td>{this.state.sr}</td>\r\n          <td>{this.state.name}</td>\r\n          <td>{this.state.cust_name}</td>\r\n          <td>{this.state.dateIssue}</td>\r\n          <td>{this.state.dateReturn}</td>\r\n        </tr>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React, { Component } from \"react\";\r\nimport \"react-dates/initialize\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport axios from \"axios\";\r\nimport Customer from \"./customer\";\r\nimport Game from \"./game\";\r\nimport loadingSpinner from \"./loadingSpinner\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      customers: [],\r\n      issue_game: [],\r\n      return_game: [],\r\n      search: \"\",\r\n      dateFrom: \"\",\r\n      dateTo: \"\",\r\n      CustomersAdded: 0,\r\n      MembershipEnding: 0,\r\n      GamesIssued: 0,\r\n      GamesReturn: 0,\r\n      message: \"Today\",\r\n      issue_game_loaded: false,\r\n      return_game_loaded: false,\r\n      customers_loaded: false,\r\n    };\r\n    this.getDetails = this.getDetails.bind(this);\r\n    this.getCustomers = this.getCustomers.bind(this);\r\n    this.getIssuedGames = this.getIssuedGames.bind(this);\r\n    this.getReturnedGames = this.getReturnedGames.bind(this);\r\n    this.getDashboardDetails = this.getDashboardDetails.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDetails();\r\n    this.getCustomers();\r\n    this.getIssuedGames();\r\n    this.getReturnedGames();\r\n  }\r\n\r\n  getDetails() {\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/CustomersAdded/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          CustomersAdded: res.data.CustomersAdded,\r\n        });\r\n      });\r\n\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/MembershipEnding/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          MembershipEnding: res.data.MembershipEnding,\r\n        });\r\n      });\r\n\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/game/GamesIssued/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          GamesIssued: res.data.GamesIssued,\r\n        });\r\n      });\r\n\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/game/GamesReturn/from=\" +\r\n          this.getToday() +\r\n          \"&to=\" +\r\n          this.getToday()\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          GamesReturn: res.data.GamesReturn,\r\n        });\r\n      });\r\n  }\r\n\r\n  getCustomers() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/customer/dashboard\")\r\n      .then((res) => {\r\n        this.setState({\r\n          customers: res.data,\r\n          customers_loaded: true,\r\n        });\r\n      });\r\n  }\r\n\r\n  getIssuedGames() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/game/dashboard/issue\")\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          issue_game: res.data,\r\n          issue_game_loaded: true,\r\n        });\r\n      });\r\n  }\r\n\r\n  getReturnedGames() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/game/dashboard/return\")\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          return_game: res.data,\r\n          return_game_loaded: true,\r\n        });\r\n      });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = parseInt(date.getMonth()); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var month_names = [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Aug\",\r\n      \"Sep\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\",\r\n    ];\r\n    var today = dd + \"/\" + month_names[mm] + \"/\" + yyyy;\r\n    console.log(today);\r\n    return today;\r\n  }\r\n  getToday() {\r\n    var date = new Date();\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    return yyyy + \"-\" + mm + \"-\" + dd;\r\n  }\r\n\r\n  getDashboardDetails(e) {\r\n    e.preventDefault();\r\n    if (e.target.from.value !== \"\" && e.target.to.value !== \"\") {\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/customer/CustomersAdded/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            CustomersAdded: res.data.CustomersAdded,\r\n          });\r\n        });\r\n\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/customer/MembershipEnding/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            MembershipEnding: res.data.MembershipEnding,\r\n          });\r\n        });\r\n\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/game/GamesIssued/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            GamesIssued: res.data.GamesIssued,\r\n          });\r\n        });\r\n\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/game/GamesReturn/from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) => {\r\n          this.setState({\r\n            GamesReturn: res.data.GamesReturn,\r\n          });\r\n        });\r\n      if (this.state.dateFrom === this.state.dateTo)\r\n        if (this.state.dateFrom === this.getToday()) {\r\n          this.setState({\r\n            message: \"Today\",\r\n          });\r\n        } else {\r\n          this.setState({\r\n            message: \"on \" + this.convertDate(this.state.dateTo) + \" \",\r\n          });\r\n        }\r\n      else\r\n        this.setState({\r\n          message:\r\n            \"from \" +\r\n            this.convertDate(this.state.dateFrom) +\r\n            \" to \" +\r\n            this.convertDate(this.state.dateTo) +\r\n            \" \",\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let message = \"today\";\r\n    if (this.state.dateFrom != \"\" && this.state.dateTo != \"\") {\r\n      if (this.state.dateFrom === this.state.dateTo)\r\n        message = \"on \" + this.convertDate(this.state.dateTo) + \" \";\r\n      else\r\n        message =\r\n          \"from \" +\r\n          this.convertDate(this.state.dateFrom) +\r\n          \" to \" +\r\n          this.convertDate(this.state.dateTo) +\r\n          \" \";\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <form onSubmit={this.getDashboardDetails}>\r\n            Select Dates\r\n            <input\r\n              name=\"from\"\r\n              type=\"date\"\r\n              value={this.state.dateFrom}\r\n              max={this.getToday()}\r\n              onChange={(e) => this.setState({ dateFrom: e.target.value })}\r\n            />\r\n            to\r\n            <input\r\n              name=\"to\"\r\n              type=\"date\"\r\n              value={this.state.dateTo}\r\n              min={this.state.dateFrom}\r\n              max={this.getToday()}\r\n              onChange={(e) => this.setState({ dateTo: e.target.value })}\r\n            />\r\n            <input type=\"submit\" className=\"btn btn-info\" value=\"Get\" />\r\n          </form>\r\n          <h4>\r\n            {this.state.CustomersAdded + \" \"}\r\n            Customers Added {this.state.message}\r\n          </h4>\r\n          <h4>\r\n            {this.state.MembershipEnding + \" \"}\r\n            Customers Membership Ending {this.state.message}\r\n          </h4>\r\n          <h4>\r\n            {this.state.GamesIssued + \" \"}\r\n            Games Issued {this.state.message}\r\n          </h4>\r\n          <h4>\r\n            {this.state.GamesReturn + \" \"}\r\n            Games Returned {this.state.message}\r\n          </h4>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <h3>Recently Issued Games</h3>\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Name</th>\r\n                <th>Issued To</th>\r\n                <th>Date Of Issue</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.issue_game_loaded ? (\r\n                this.state.issue_game.map((game, index) => (\r\n                  <Game\r\n                    mode=\"issue\"\r\n                    _id={game._id}\r\n                    sr={index + 1}\r\n                    name={game.gameInfo.name}\r\n                    cust_name={game.customerInfo.name}\r\n                    dateIssue={this.convertDate(game.date_issue)}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"4\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <h3>Recently Returned Games</h3>\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Name</th>\r\n                <th>Returned By</th>\r\n                <th>Date Of Issue</th>\r\n                <th>Date Of Return</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.return_game_loaded ? (\r\n                this.state.return_game.map((game, index) => (\r\n                  <Game\r\n                    mode=\"return\"\r\n                    _id={game._id}\r\n                    sr={index + 1}\r\n                    name={game.gameInfo.name}\r\n                    cust_name={game.customerInfo.name}\r\n                    dateIssue={this.convertDate(game.date_issue)}\r\n                    dateReturn={this.convertDate(game.date_return)}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"5\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <hr />\r\n        <br />\r\n        <div>\r\n          <h3>Membership Ending Soon</h3>\r\n          <div className=\"table-responsive-xl\">\r\n            <table className=\"table\" style={{ marginTop: 20, padding: \"2px\" }}>\r\n              <thead>\r\n                <tr>\r\n                  <th>Sr</th>\r\n                  <th>Name</th>\r\n                  <th>Email-ID</th>\r\n                  <th>Date Ending</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {this.state.customers_loaded ? (\r\n                  this.state.customers.map((customer, index) => (\r\n                    <Customer\r\n                      mode=\"dashboard\"\r\n                      id={customer._id}\r\n                      sr={index + 1}\r\n                      name={customer.name}\r\n                      email={customer.email}\r\n                      dateEnding={this.convertDate(\r\n                        customer.latestMembership.end\r\n                      )}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td\r\n                      colSpan=\"4\"\r\n                      style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                    >\r\n                      <LoadingSpinner></LoadingSpinner>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from \"react\";\r\nimport Customer from \"./customer\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Customers extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      customers: [],\r\n      search: \"\",\r\n      filtered: [],\r\n      ascendingName: true,\r\n      ascendingDOJ: true,\r\n      ascendingMembershipEnd: true,\r\n      ascendingNoOfGames: true,\r\n      nameSortButtonValue: \"Sort\",\r\n      DOJSortButtonValue: \"Sort\",\r\n      membershipEndSortButtonValue: <span>&darr;</span>,\r\n      noOfGamesSortButtonValue: \"Sort\",\r\n      customers_loaded: false,\r\n    };\r\n    this.getCustomers = this.getCustomers.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onClickForSort = this.onClickForSort.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCustomers();\r\n  }\r\n\r\n  getCustomers() {\r\n    axios.get(\"https://prayuj-gamerent.herokuapp.com/customer/\").then((res) => {\r\n      this.setState({\r\n        customers: res.data,\r\n        filtered: res.data,\r\n        customers_loaded: true,\r\n      });\r\n    });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    return today;\r\n  }\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/add_customer/\"} />;\r\n    }\r\n  };\r\n\r\n  handleChange(e) {\r\n    // Variable to hold the original version of the list\r\n    let currentList = [];\r\n    // Variable to hold the filtered list before putting into state\r\n    let newList = [];\r\n\r\n    // If the search bar isn't empty\r\n    if (e.target.value !== \"\") {\r\n      //console.log(\"HERE 1\");\r\n      // Assign the original list to currentList\r\n      currentList = this.state.customers;\r\n      let firstList = [];\r\n      let secondList = [];\r\n\r\n      // Use .filter() to determine which items should be displayed\r\n      // based on the search terms\r\n      firstList = currentList.filter((customer) => {\r\n        // change current item to lowercase\r\n        const lc = customer.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      secondList = currentList.filter((customer) => {\r\n        // change current item to lowercase\r\n        const lc = customer.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      for (let i = 0; i < secondList.length; i++) {\r\n        let flag = true;\r\n        for (let j = 0; j < firstList.length; j++) {\r\n          if (JSON.stringify(secondList[i]) === JSON.stringify(firstList[j]))\r\n            flag = false;\r\n        }\r\n        if (flag) firstList.push(secondList[i]);\r\n      }\r\n      newList = firstList;\r\n      //console.log(newList);\r\n    } else {\r\n      console.log(\"HERE 2\");\r\n      // If the search bar is empty, set newList to original task list\r\n      newList = this.state.customers;\r\n    }\r\n    // Set the filtered state based on what our rules added to newList\r\n    this.setState({\r\n      filtered: newList,\r\n    });\r\n  }\r\n\r\n  onClickForSort(e) {\r\n    console.log(e.target.value);\r\n    if (e.target.value === \"Name\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.name.toLowerCase();\r\n        var y = b.name.toLowerCase();\r\n        if (this.state.ascendingName) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingName) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingName ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingName: !this.state.ascendingName,\r\n        nameSortButtonValue: arrow,\r\n        DOJSortButtonValue: \"Sort\",\r\n        membershipEndSortButtonValue: \"Sort\",\r\n        noOfGamesSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"DOJ\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.dateOfJoin;\r\n        var y = b.dateOfJoin;\r\n        if (this.state.ascendingDOJ) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingDOJ) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingDOJ ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingDOJ: !this.state.ascendingDOJ,\r\n        DOJSortButtonValue: arrow,\r\n        nameSortButtonValue: \"Sort\",\r\n        membershipEndSortButtonValue: \"Sort\",\r\n        noOfGamesSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Membership\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.latestMembership.end;\r\n        var y = b.latestMembership.end;\r\n        if (this.state.ascendingMembershipEnd) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingMembershipEnd) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingMembershipEnd ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingMembershipEnd: !this.state.ascendingMembershipEnd,\r\n        membershipEndSortButtonValue: arrow,\r\n        nameSortButtonValue: \"Sort\",\r\n        DOJSortButtonValue: \"Sort\",\r\n        noOfGamesSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"No Of Games\") {\r\n      let customers = this.state.filtered;\r\n      customers.sort((a, b) => {\r\n        var x = a.noOfGames;\r\n        var y = b.noOfGames;\r\n        if (this.state.ascendingNoOfGames) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingNoOfGames) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(customers);\r\n      let arrow = this.state.ascendingNoOfGames ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: customers,\r\n        ascendingNoOfGames: !this.state.ascendingNoOfGames,\r\n        noOfGamesSortButtonValue: arrow,\r\n        nameSortButtonValue: \"Sort\",\r\n        DOJSortButtonValue: \"Sort\",\r\n        membershipEndSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state.filtered);\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <input\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          value=\"Add Customer\"\r\n          onClick={this.setRedirect}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search...\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: \"1em\" }}>\r\n            <thead>\r\n              <tr>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Sr</th>\r\n                <th>\r\n                  Name\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Name\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.nameSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Email-ID</th>\r\n                <th>\r\n                  Date Of Joining\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"DOJ\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.DOJSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  Membership Expiry\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Membership\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.membershipEndSortButtonValue}\r\n                  </button>\r\n                </th>\r\n\r\n                <th>\r\n                  NoOfGames\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"No Of Games\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.noOfGamesSortButtonValue}\r\n                  </button>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.customers_loaded ? (\r\n                this.state.filtered.length > 0 ? (\r\n                  this.state.filtered.map((filter, index) => (\r\n                    <Customer\r\n                      mode=\"customers\"\r\n                      id={filter._id}\r\n                      sr={index + 1}\r\n                      name={filter.name}\r\n                      email={filter.email}\r\n                      noOfGames={filter.noOfGames}\r\n                      dateOfJoin={this.convertDate(filter.dateOfJoin)}\r\n                      dateOfMembershipEnd={\r\n                        filter.latestMembership.active\r\n                          ? this.convertDate(filter.latestMembership.end)\r\n                          : \"Expired Membership\"\r\n                      }\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td\r\n                      colSpan=\"6\"\r\n                      style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                    >\r\n                      Nothing to show!\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"6\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Customers;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Transaction extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n    this.state = {\r\n      index: props.index,\r\n      id: props.id,\r\n      game_name: props.game_name,\r\n      customer_name: props.customer_name,\r\n      date_issue: props.date_issue,\r\n      date_return: props.date_return\r\n    };\r\n  }\r\n\r\n  setRedirect = () => {\r\n    console.log(\"Test\");\r\n    this.setState({\r\n      redirect: true\r\n    });\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps, nextState) {\r\n    this.setState({\r\n      index: nextProps.index,\r\n      id: nextProps.id,\r\n      game_name: nextProps.game_name,\r\n      customer_name: nextProps.customer_name,\r\n      date_issue: nextProps.date_issue,\r\n      date_return: nextProps.date_return\r\n    });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/transaction/\" + this.state.id} />;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <tr id={this.state._id} className=\"items\" onClick={this.setRedirect}>\r\n        {this.renderRedirect()}\r\n        <td>{this.state.index}</td>\r\n        <td>{this.state.id}</td>\r\n        <td>{this.state.customer_name}</td>\r\n        <td>{this.state.game_name}</td>\r\n        <td>{this.state.date_issue}</td>\r\n        <td>{this.state.date_return}</td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Transaction;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Transaction from \"./transaction\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Transactions extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      transactions: [],\r\n      filtered: [],\r\n      ascendingCustomerName: true,\r\n      ascendingGameName: true,\r\n      ascendingDateIssue: true,\r\n      ascendingDateReturn: true,\r\n      customerNameSortButtonValue: \"Sort\",\r\n      gameNameSortButtonValue: \"Sort\",\r\n      dateIssueButtonValue: <span>&darr;</span>,\r\n      dateReturnButtonValue: \"Sort\",\r\n      dateIssueFrom: \"\",\r\n      dateIssueTo: \"\",\r\n      dateReturnFrom: \"\",\r\n      dateReturnTo: \"\",\r\n      transactions_loaded: false,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.getTransactions = this.getTransactions.bind(this);\r\n    this.onClickForSort = this.onClickForSort.bind(this);\r\n    this.getIssueDates = this.getIssueDates.bind(this);\r\n    this.getReturnDates = this.getReturnDates.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.getTransactions();\r\n  }\r\n  getTransactions() {\r\n    this.setState({\r\n      dateIssueFrom: \"\",\r\n      dateIssueTo: \"\",\r\n      dateReturnFrom: \"\",\r\n      dateReturnTo: \"\",\r\n    });\r\n    axios.get(\"https://prayuj-gamerent.herokuapp.com/transaction\").then((res) =>\r\n      this.setState({\r\n        transactions: res.data,\r\n        filtered: res.data,\r\n        transactions_loaded: true,\r\n      })\r\n    );\r\n  }\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    return today;\r\n  }\r\n\r\n  handleChange(e) {\r\n    // Variable to hold the original version of the list\r\n    let currentList = [];\r\n    // Variable to hold the filtered list before putting into state\r\n    let newList = [];\r\n\r\n    // If the search bar isn't empty\r\n    if (e.target.value !== \"\") {\r\n      //console.log(\"HERE 1\");\r\n      // Assign the original list to currentList\r\n      currentList = this.state.transactions;\r\n      let firstList = [];\r\n      let secondList = [];\r\n\r\n      // Use .filter() to determine which items should be displayed\r\n      // based on the search terms\r\n      firstList = currentList.filter((item) => {\r\n        // change current item to lowercase\r\n        const lc = item.gameInfo.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      secondList = currentList.filter((item) => {\r\n        // change current item to lowercase\r\n        const lc = item.customerInfo.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      newList = firstList.concat(secondList);\r\n      //console.log(newList);\r\n    } else {\r\n      //console.log(\"HERE 2\");\r\n      // If the search bar is empty, set newList to original task list\r\n      newList = this.state.transactions;\r\n    }\r\n    // Set the filtered state based on what our rules added to newList\r\n    this.setState({\r\n      filtered: newList,\r\n    });\r\n  }\r\n  onClickForSort(e) {\r\n    if (e.target.value === \"Customer Name\") {\r\n      let transactions = this.state.filtered;\r\n      transactions.sort((a, b) => {\r\n        var x = a.customerInfo.name.toLowerCase();\r\n        var y = b.customerInfo.name.toLowerCase();\r\n        if (this.state.ascendingCustomerName) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingCustomerName) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      let arrow = this.state.ascendingCustomerName ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: transactions,\r\n        ascendingCustomerName: !this.state.ascendingCustomerName,\r\n        customerNameSortButtonValue: arrow,\r\n        gameNameSortButtonValue: \"Sort\",\r\n        dateIssueButtonValue: \"Sort\",\r\n        dateReturnButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Game Name\") {\r\n      let transactions = this.state.filtered;\r\n      transactions.sort((a, b) => {\r\n        var x = a.gameInfo.name.toLowerCase();\r\n        var y = b.gameInfo.name.toLowerCase();\r\n        if (this.state.ascendingGameName) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingGameName) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      let arrow = this.state.ascendingGameName ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: transactions,\r\n        ascendingGameName: !this.state.ascendingGameName,\r\n        gameNameSortButtonValue: arrow,\r\n        customerNameSortButtonValue: \"Sort\",\r\n        dateIssueButtonValue: \"Sort\",\r\n        dateReturnButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Date Issue\") {\r\n      let transactions = this.state.filtered;\r\n      transactions.sort((a, b) => {\r\n        var x = a.date_issue;\r\n        var y = b.date_issue;\r\n        if (this.state.ascendingDateIssue) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingDateIssue) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      let arrow = this.state.ascendingDateIssue ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: transactions,\r\n        ascendingDateIssue: !this.state.ascendingDateIssue,\r\n        dateIssueButtonValue: arrow,\r\n        customerNameSortButtonValue: \"Sort\",\r\n        gameNameSortButtonValue: \"Sort\",\r\n        dateReturnButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Date Return\") {\r\n      let transactions = this.state.filtered;\r\n      transactions.sort((a, b) => {\r\n        if (this.state.ascendingDateReturn) {\r\n          if (a.return && b.return) {\r\n            var x = a.date_return;\r\n            var y = b.date_return;\r\n            if (x < y) {\r\n              return 1;\r\n            }\r\n            if (x > y) {\r\n              return -1;\r\n            }\r\n            return 0;\r\n          } else if (!a.return && b.return) {\r\n            return 1;\r\n          } else if (a.return && !b.return) {\r\n            return -1;\r\n          } else {\r\n            var x = a.date_issue;\r\n            var y = b.date_issue;\r\n            if (x < y) {\r\n              return 1;\r\n            }\r\n            if (x > y) {\r\n              return -1;\r\n            }\r\n            return 0;\r\n          }\r\n        }\r\n        if (!this.state.ascendingDateReturn) {\r\n          if (a.return && b.return) {\r\n            var x = a.date_return;\r\n            var y = b.date_return;\r\n            if (x < y) {\r\n              return -1;\r\n            }\r\n            if (x > y) {\r\n              return 1;\r\n            }\r\n            return 0;\r\n          } else if (!a.return && b.return) {\r\n            return -1;\r\n          } else if (a.return && !b.return) {\r\n            return 1;\r\n          } else {\r\n            var x = a.date_issue;\r\n            var y = b.date_issue;\r\n            if (x < y) {\r\n              return -1;\r\n            }\r\n            if (x > y) {\r\n              return 1;\r\n            }\r\n            return 0;\r\n          }\r\n        }\r\n      });\r\n      let arrow = this.state.ascendingDateReturn ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: transactions,\r\n        ascendingDateReturn: !this.state.ascendingDateReturn,\r\n        dateReturnButtonValue: arrow,\r\n        customerNameSortButtonValue: \"Sort\",\r\n        gameNameSortButtonValue: \"Sort\",\r\n        gameNameSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n  }\r\n\r\n  getIssueDates(e) {\r\n    e.preventDefault();\r\n    if (e.target.from.value !== \"\" && e.target.to.value !== \"\") {\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/transaction/dates/mode=issue&from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) =>\r\n          this.setState({\r\n            transactions: res.data,\r\n            filtered: res.data,\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  getReturnDates(e) {\r\n    e.preventDefault();\r\n    if (e.target.from.value !== \"\" && e.target.to.value !== \"\") {\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/transaction/dates/mode=return&from=\" +\r\n            e.target.from.value +\r\n            \"&to=\" +\r\n            e.target.to.value\r\n        )\r\n        .then((res) =>\r\n          this.setState({\r\n            transactions: res.data,\r\n            filtered: res.data,\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  getToday() {\r\n    var date = new Date();\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    return yyyy + \"-\" + mm + \"-\" + dd;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search...\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <form onSubmit={this.getIssueDates}>\r\n          Select Date of Issue\r\n          <input\r\n            name=\"from\"\r\n            type=\"date\"\r\n            value={this.state.dateIssueFrom}\r\n            max={this.getToday()}\r\n            onChange={(e) => this.setState({ dateIssueFrom: e.target.value })}\r\n          />\r\n          to\r\n          <input\r\n            name=\"to\"\r\n            type=\"date\"\r\n            value={this.state.dateIssueTo}\r\n            min={this.state.dateIssueFrom}\r\n            max={this.getToday()}\r\n            onChange={(e) => this.setState({ dateIssueTo: e.target.value })}\r\n          />\r\n          <input type=\"submit\" className=\"btn btn-info\" value=\"Get\" />\r\n        </form>\r\n\r\n        <form onSubmit={this.getReturnDates}>\r\n          Select Date of Return\r\n          <input\r\n            name=\"from\"\r\n            type=\"date\"\r\n            max={this.getToday()}\r\n            value={this.state.dateReturnFrom}\r\n            onChange={(e) => this.setState({ dateReturnFrom: e.target.value })}\r\n          />\r\n          to\r\n          <input\r\n            name=\"to\"\r\n            type=\"date\"\r\n            value={this.state.dateReturnTo}\r\n            min={this.state.dateReturnFrom}\r\n            max={this.getToday()}\r\n            onChange={(e) => this.setState({ dateReturnTo: e.target.value })}\r\n          />\r\n          <input type=\"submit\" className=\"btn btn-info\" value=\"Get\" />\r\n        </form>\r\n        <input\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          value=\"Show all\"\r\n          onClick={this.getTransactions}\r\n        />\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Sr</th>\r\n                <th style={{ paddingBottom: \"1.3%\" }}>Transaction ID</th>\r\n                <th>\r\n                  Member Name{\" \"}\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Customer Name\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.customerNameSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  Game Name{\" \"}\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Game Name\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.gameNameSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  Date Issue{\" \"}\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Date Issue\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.dateIssueButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  Date Return\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Date Return\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.dateReturnButtonValue}\r\n                  </button>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.transactions_loaded ? (\r\n                this.state.filtered.map((transaction, index) => (\r\n                  <Transaction\r\n                    index={index + 1}\r\n                    id={transaction._id}\r\n                    game_name={transaction.gameInfo.name}\r\n                    customer_name={transaction.customerInfo.name}\r\n                    date_issue={this.convertDate(transaction.date_issue)}\r\n                    date_return={\r\n                      transaction.return\r\n                        ? this.convertDate(transaction.date_return)\r\n                        : \"Not Returned\"\r\n                    }\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"6\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Transactions;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass GamePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      name: \"\",\r\n      description: \"\",\r\n      data: \"\",\r\n      name_description_loaded: false,\r\n      data_loaded: false,\r\n      history_loaded: false,\r\n      history: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getGameDetail();\r\n    this.getGameItemDetail();\r\n    this.getHistory();\r\n  }\r\n\r\n  getGameDetail() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/game/\" + this.state.id)\r\n      .then((res) => {\r\n        console.log(res.data, this.state.id);\r\n        this.setState({\r\n          name: res.data.name,\r\n          description: res.data.description,\r\n          name_description_loaded: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getGameItemDetail() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/game/items/\" + this.state.id)\r\n      .then((res) => {\r\n        console.log(res.data, this.state.id);\r\n        this.setState({\r\n          data: res.data,\r\n          data_loaded: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getHistory() {\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/game/history/\" + this.state.id\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data, this.state.id);\r\n        this.setState({\r\n          history: res.data,\r\n          history_loaded: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  setRedirect = (e) => {\r\n    console.log(e.target.value);\r\n    if (e.target.attributes[0].value === \"transaction\") {\r\n      this.setState({\r\n        redirect_to_transaction: true,\r\n        transaction_id: e.target.attributes[1].value,\r\n      });\r\n    }\r\n    if (e.target.value === \"Update\")\r\n      this.setState({\r\n        redirect_to_update: true,\r\n      });\r\n\r\n    if (e.target.value === \"Issue\")\r\n      this.setState({\r\n        redirect_to_issue: true,\r\n      });\r\n    else\r\n      this.setState({\r\n        redirect_to_add_plan: true,\r\n      });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_update) {\r\n      return <Redirect push to={\"/update_game/\" + this.state.id} />;\r\n    }\r\n    if (this.state.redirect_to_transaction) {\r\n      return <Redirect push to={\"/transaction/\" + this.state.transaction_id} />;\r\n    }\r\n    if (this.state.redirect_to_issue) {\r\n      return <Redirect push to={\"/issue/mode=game&id=\" + this.state.id} />;\r\n    }\r\n  };\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    return today;\r\n  }\r\n  render() {\r\n    console.log(this.state.data);\r\n    let items = this.state.data ? (\r\n      this.state.data.map((item, index) => (\r\n        <tr>\r\n          <td>{index + 1}</td>\r\n          <td>{item.items.serial_no}</td>\r\n          <td>{item.items.console}</td>\r\n          <td>{item.items.status}</td>\r\n          <td>\r\n            {item.convertedId == \"Owner\" ? \"Owner\" : item.customerInfo[0].name}\r\n          </td>\r\n        </tr>\r\n      ))\r\n    ) : (\r\n      <div />\r\n    );\r\n\r\n    let history =\r\n      this.state.history.length > 0 ? (\r\n        this.state.history.map((hist, index) => (\r\n          <tr\r\n            value=\"transaction\"\r\n            id={hist._id}\r\n            className=\"items\"\r\n            onClick={this.setRedirect}\r\n          >\r\n            <td value=\"transaction\" id={hist._id}>\r\n              {index + 1}\r\n            </td>\r\n            <td value=\"transaction\" id={hist._id}>\r\n              {hist.gameInfo.items.serial_no}\r\n            </td>\r\n            <td value=\"transaction\" id={hist._id}>\r\n              {hist.gameInfo.items.console}\r\n            </td>\r\n            <td value=\"transaction\" id={hist._id}>\r\n              {hist.customerInfo.name}\r\n            </td>\r\n            <td value=\"transaction\" id={hist._id}>\r\n              {this.convertDate(hist.date_issue)}\r\n            </td>\r\n            <td value=\"transaction\" id={hist._id}>\r\n              {hist.return\r\n                ? this.convertDate(hist.date_return)\r\n                : \"Not Returned\"}\r\n            </td>\r\n          </tr>\r\n        ))\r\n      ) : (\r\n        <tr>\r\n          <td\r\n            colSpan=\"6\"\r\n            style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n          >\r\n            No Past History\r\n          </td>\r\n        </tr>\r\n      );\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <input\r\n          type=\"button\"\r\n          onClick={this.setRedirect}\r\n          className=\"btn btn-primary\"\r\n          value=\"Update\"\r\n        />\r\n        <input\r\n          type=\"button\"\r\n          onClick={this.setRedirect}\r\n          className=\"btn btn-primary\"\r\n          value=\"Issue\"\r\n        />\r\n        <h3>\r\n          Name:{\" \"}\r\n          {this.state.name_description_loaded ? (\r\n            this.state.name\r\n          ) : (\r\n            <LoadingSpinner></LoadingSpinner>\r\n          )}\r\n        </h3>\r\n        <h3>\r\n          Description:{\" \"}\r\n          {this.state.name_description_loaded ? (\r\n            this.state.description\r\n          ) : (\r\n            <LoadingSpinner></LoadingSpinner>\r\n          )}\r\n        </h3>\r\n        <br />\r\n        <h3>Current Status of Items:</h3>\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Serial Number</th>\r\n                <th>Console</th>\r\n                <th>Status</th>\r\n                <th>Responsible</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.data_loaded ? (\r\n                items\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"5\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <br />\r\n        <h3>Past History of Items:</h3>\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Serial Number</th>\r\n                <th>Console</th>\r\n                <th>Name</th>\r\n                <th>Date Issue</th>\r\n                <th>Date Return</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.history_loaded ? (\r\n                history\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"6\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GamePage;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\n\r\nclass CustomerPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      data: \"\",\r\n      history: [],\r\n      modal_show: false,\r\n      history_loaded: false,\r\n      data_loaded: false,\r\n      otp_issued: false,\r\n      verifying: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCustomerDetail();\r\n    this.getCustomerGameHistory();\r\n  }\r\n  getCustomerGameHistory() {\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/history/\" +\r\n          this.state.id\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (res.data)\r\n          this.setState({\r\n            history: res.data,\r\n            history_loaded: true,\r\n          });\r\n        else\r\n          this.setState({\r\n            history: [],\r\n            history_loaded: true,\r\n          });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  getCustomerDetail() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/customer/\" + this.state.id)\r\n      .then((res) => {\r\n        this.setState({\r\n          data: res.data,\r\n          data_loaded: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  setRedirect = (e) => {\r\n    console.log(e.target.attributes[1].value);\r\n    if (e.target.attributes[0].value === \"transaction\") {\r\n      this.setState({\r\n        redirect_to_transaction: true,\r\n        transaction_id: e.target.attributes[1].value,\r\n      });\r\n    } else if (e.target.value === \"Update\") {\r\n      this.setState({\r\n        otp_issued: false,\r\n        verifying: false,\r\n      });\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/customer/generate_otp/id=\" +\r\n            this.state.id +\r\n            \"&mode=Updating&game=Null&console=Null\"\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({ message: res.data.message, otp_issued: true });\r\n        });\r\n      this.setState({\r\n        modal_show: true,\r\n      });\r\n    } else if (e.target.value === \"Issue\")\r\n      this.setState({\r\n        redirect_to_issue: true,\r\n      });\r\n    else if (e.target.value === \"Return\")\r\n      this.setState({\r\n        redirect_to_return: true,\r\n      });\r\n    else if (e.target.value === \"Add Plan\")\r\n      this.setState({\r\n        redirect_to_add_plan: true,\r\n      });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_update) {\r\n      return <Redirect push to={\"/update_customer/\" + this.state.id} />;\r\n    }\r\n    if (this.state.redirect_to_add_plan) {\r\n      return <Redirect push to={\"/add_plan/\" + this.state.id} />;\r\n    }\r\n    if (this.state.redirect_to_issue) {\r\n      return <Redirect push to={\"/issue/mode=customer&id=\" + this.state.id} />;\r\n    }\r\n    if (this.state.redirect_to_return) {\r\n      return <Redirect push to={\"/return/mode=customer&id=\" + this.state.id} />;\r\n    }\r\n    if (this.state.redirect_to_transaction) {\r\n      return <Redirect push to={\"/transaction/\" + this.state.transaction_id} />;\r\n    }\r\n  };\r\n\r\n  handleClick(e) {\r\n    e.preventDefault();\r\n    console.log(e.target.otp.value);\r\n    let customer_id = this.state.id;\r\n    this.setState({\r\n      verifying: true,\r\n    });\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/verify_otp/\" +\r\n          customer_id,\r\n        {\r\n          otp: e.target.otp.value,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.isVerify);\r\n        if (res.data.isVerify) {\r\n          this.setState({\r\n            redirect_to_update: true,\r\n          });\r\n        } else {\r\n          this.setState({ verifying: false });\r\n          alert(\"Incorrect OTP, Issue again\");\r\n        }\r\n      });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    return today;\r\n  }\r\n  render() {\r\n    console.log(this.state.data);\r\n    let membership = this.state.data.membership ? (\r\n      this.state.data.membership.map((member, index) => (\r\n        <tr>\r\n          <td>{index + 1}</td>\r\n          <td>{member.plan}</td>\r\n          <td>{this.convertDate(member.start)}</td>\r\n          <td>{this.convertDate(member.end)}</td>\r\n          <td>{member.active ? \"True\" : \"False\"}</td>\r\n        </tr>\r\n      ))\r\n    ) : (\r\n      <div />\r\n    );\r\n\r\n    let history =\r\n      this.state.history.length > 0 ? (\r\n        this.state.history.map((game, index) => (\r\n          <tr\r\n            className=\"items\"\r\n            onClick={this.setRedirect}\r\n            value=\"transaction\"\r\n            id={game._id}\r\n          >\r\n            <td value=\"transaction\" id={game._id}>\r\n              {index + 1}\r\n            </td>\r\n            <td value=\"transaction\" id={game._id}>\r\n              {game.gameInfo.name}\r\n            </td>\r\n            <td value=\"transaction\" id={game._id}>\r\n              {game.gameInfo.items.console}\r\n            </td>\r\n            <td value=\"transaction\" id={game._id}>\r\n              {game.gameInfo.items.serial_no}\r\n            </td>\r\n            <td value=\"transaction\" id={game._id}>\r\n              {this.convertDate(game.date_issue)}\r\n            </td>\r\n            <td value=\"transaction\" id={game._id}>\r\n              {game.return\r\n                ? this.convertDate(game.date_return)\r\n                : \"Not Returned\"}\r\n            </td>\r\n          </tr>\r\n        ))\r\n      ) : (\r\n        <tr>\r\n          <td\r\n            colSpan=\"6\"\r\n            style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n          >\r\n            No Past History\r\n          </td>\r\n        </tr>\r\n      );\r\n\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <input\r\n          type=\"button\"\r\n          onClick={this.setRedirect}\r\n          className=\"btn btn-primary\"\r\n          value=\"Update\"\r\n        />\r\n        <input\r\n          type=\"button\"\r\n          onClick={this.setRedirect}\r\n          className=\"btn btn-primary\"\r\n          value=\"Add Plan\"\r\n        />\r\n        <input\r\n          type=\"button\"\r\n          onClick={this.setRedirect}\r\n          className=\"btn btn-primary\"\r\n          value=\"Issue\"\r\n        />\r\n        <input\r\n          type=\"button\"\r\n          onClick={this.setRedirect}\r\n          className=\"btn btn-primary\"\r\n          value=\"Return\"\r\n        />\r\n        {this.state.data_loaded ? (\r\n          <>\r\n            <div>\r\n              <strong>Name: </strong> {this.state.data.name}\r\n            </div>\r\n            <div>\r\n              <strong>Email: </strong>\r\n              {this.state.data.email}\r\n            </div>\r\n            <div>\r\n              <strong>Addr: </strong>\r\n              {this.state.data.address}\r\n            </div>\r\n            <div>\r\n              <strong>Addr2: </strong>\r\n              {this.state.data.address2}\r\n            </div>\r\n            <div>\r\n              <strong>ZIP: </strong>\r\n              {this.state.data.zip}\r\n            </div>\r\n            <div>\r\n              <strong>Mobile Number: </strong>\r\n              {this.state.data.mobile_no}\r\n            </div>\r\n            <div>\r\n              <strong>Alt Mobile No: </strong>\r\n              {this.state.data.alt_mobile_no}\r\n            </div>\r\n            <div>\r\n              <strong>Date Of Join: </strong>\r\n              {this.convertDate(this.state.data.dateOfJoin)}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div>\r\n            <LoadingSpinner></LoadingSpinner>\r\n          </div>\r\n        )}\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Plan Name</th>\r\n                <th>Start</th>\r\n                <th>End</th>\r\n                <th>Active</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.data_loaded ? (\r\n                membership\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"5\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <h3>Past History:</h3>\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>Game</th>\r\n                <th>Console</th>\r\n                <th>Serial no</th>\r\n                <th>Date Issue</th>\r\n                <th>Date Return</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.history_loaded ? (\r\n                history\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"6\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <Modal show={this.state.modal_show}>\r\n          <Modal.Header>\r\n            <Modal.Title>Game Return</Modal.Title>\r\n          </Modal.Header>\r\n          <form onSubmit={this.handleClick}>\r\n            <Modal.Body>\r\n              <div>\r\n                Enter OTP\r\n                <input type=\"number\" name=\"otp\" />\r\n              </div>\r\n              {this.state.otp_issued ? (\r\n                <Toast>\r\n                  <Toast.Header>\r\n                    <strong className=\"mr-auto\">OTP</strong>\r\n                  </Toast.Header>\r\n                  <Toast.Body>{this.state.message}</Toast.Body>\r\n                </Toast>\r\n              ) : (\r\n                <LoadingSpinner></LoadingSpinner>\r\n              )}\r\n            </Modal.Body>\r\n\r\n            <Modal.Footer>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => this.setState({ modal_show: false })}\r\n              >\r\n                Close\r\n              </Button>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                {this.state.verifying ? (\r\n                  <LoadingSpinner></LoadingSpinner>\r\n                ) : (\r\n                  \"Verify\"\r\n                )}\r\n              </Button>\r\n            </Modal.Footer>\r\n          </form>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomerPage;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass TransactionPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      redirect_to_customer: false,\r\n      redirect_to_game: false,\r\n      modal_show: false,\r\n      otp_issued: false,\r\n      verifying: false,\r\n    };\r\n    this.getTransactionDetails = this.getTransactionDetails.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.confirmReturn = this.confirmReturn.bind(this);\r\n    this.modalClose = this.modalClose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getTransactionDetails();\r\n  }\r\n\r\n  confirmReturn(e) {\r\n    console.log(e.target.id);\r\n    let ids = e.target.id.split(\" \");\r\n    this.setState({\r\n      otp_issued: false,\r\n      verifying: false,\r\n    });\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/generate_otp/id=\" +\r\n          ids[3] +\r\n          \"&mode=Returning\" +\r\n          \"&game=\" +\r\n          ids[1] +\r\n          \"&console=\" +\r\n          ids[4]\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({ message: res.data.message, otp_issued: true });\r\n      });\r\n    this.setState({\r\n      modal_show: true,\r\n      ids: ids,\r\n    });\r\n  }\r\n\r\n  modalClose() {\r\n    {\r\n      this.setState({ modal_show: false });\r\n    }\r\n  }\r\n\r\n  getTransactionDetails() {\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/transaction/get/\" + this.state.id\r\n      )\r\n      .then((res) => {\r\n        this.setState({\r\n          data: res.data,\r\n        });\r\n      });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    var hours = String(date.getHours()).padStart(2, \"0\");\r\n    var minutes = String(date.getMinutes()).padStart(2, \"0\");\r\n    return today + \" (\" + hours + \":\" + minutes + \" hrs)\";\r\n  }\r\n\r\n  setRedirect = (e) => {\r\n    console.log(\r\n      e.target.value === \"Go to \" + this.state.data.customerInfo.name\r\n    );\r\n    if (e.target.value === \"Go to \" + this.state.data.customerInfo.name)\r\n      this.setState({\r\n        redirect_to_customer: true,\r\n      });\r\n    else if (e.target.value === \"Go to \" + this.state.data.gameInfo.name)\r\n      this.setState({\r\n        redirect_to_game: true,\r\n      });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_game) {\r\n      return <Redirect push to={\"/game/\" + this.state.data.gameInfo._id} />;\r\n    }\r\n    if (this.state.redirect_to_customer) {\r\n      return (\r\n        <Redirect push to={\"/customer/\" + this.state.data.customerInfo._id} />\r\n      );\r\n    }\r\n  };\r\n\r\n  handleClick(e) {\r\n    e.preventDefault();\r\n    console.log(e.target.otp.value);\r\n    let id = this.state.ids;\r\n    this.setState({\r\n      verifying: true,\r\n    });\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/verify_otp/\" + id[3],\r\n        {\r\n          otp: e.target.otp.value,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.isVerify);\r\n        if (res.data.isVerify) {\r\n          axios\r\n            .post(\"https://prayuj-gamerent.herokuapp.com/customer/return/\", {\r\n              transaction_id: id[0],\r\n              game_id: id[1],\r\n              item_id: id[2],\r\n            })\r\n            .then((res) => {\r\n              this.getTransactionDetails();\r\n              this.setState({\r\n                modal_show: false,\r\n              });\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({ verifying: false });\r\n          alert(\"Incorrect OTP, Issue again\");\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.data)\r\n      return (\r\n        <div>\r\n          {this.renderRedirect()}\r\n          <h4>Transaction ID: {this.state.id}</h4>\r\n          <h4>Member Name: {this.state.data.customerInfo.name}</h4>\r\n\r\n          <h4>Game Name: {this.state.data.gameInfo.name}</h4>\r\n          <h4>Console: {this.state.data.gameInfo.items.console}</h4>\r\n          <h4>Serial Number: {this.state.data.gameInfo.items.serial_no}</h4>\r\n          <h4>Date Issued: {this.convertDate(this.state.data.date_issue)}</h4>\r\n          <h4>\r\n            {this.state.data.return\r\n              ? \"Date Returned:\" + this.convertDate(this.state.data.date_return)\r\n              : \"Status: Not Returned\"}\r\n          </h4>\r\n          <input\r\n            type=\"button\"\r\n            value={\"Go to \" + this.state.data.customerInfo.name}\r\n            className=\"btn btn-primary\"\r\n            onClick={this.setRedirect}\r\n          />\r\n          <br />\r\n          <br />\r\n          <input\r\n            type=\"button\"\r\n            value={\"Go to \" + this.state.data.gameInfo.name}\r\n            className=\"btn btn-primary\"\r\n            onClick={this.setRedirect}\r\n          />\r\n          <br />\r\n          <br />\r\n          {this.state.data.return ? (\r\n            <div />\r\n          ) : (\r\n            <input\r\n              type=\"button\"\r\n              value=\"Return\"\r\n              className=\"btn btn-primary\"\r\n              id={\r\n                this.state.data._id +\r\n                \" \" +\r\n                this.state.data.game_id +\r\n                \" \" +\r\n                this.state.data.item_id +\r\n                \" \" +\r\n                this.state.data.customerInfo._id +\r\n                \" \" +\r\n                this.state.data.gameInfo.items.console\r\n              }\r\n              onClick={this.confirmReturn}\r\n            />\r\n          )}\r\n          <Modal show={this.state.modal_show}>\r\n            <Modal.Header>\r\n              <Modal.Title>Game Return</Modal.Title>\r\n            </Modal.Header>\r\n            <form onSubmit={this.handleClick}>\r\n              <Modal.Body>\r\n                <div>\r\n                  Enter OTP\r\n                  <input type=\"number\" name=\"otp\" />\r\n                </div>\r\n                {this.state.otp_issued ? (\r\n                  <Toast>\r\n                    <Toast.Header>\r\n                      <strong className=\"mr-auto\">OTP</strong>\r\n                    </Toast.Header>\r\n                    <Toast.Body>{this.state.message}</Toast.Body>\r\n                  </Toast>\r\n                ) : (\r\n                  <LoadingSpinner></LoadingSpinner>\r\n                )}\r\n              </Modal.Body>\r\n\r\n              <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={this.modalClose}>\r\n                  Close\r\n                </Button>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                  {this.state.verifying ? (\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  ) : (\r\n                    \"Verify\"\r\n                  )}\r\n                </Button>\r\n              </Modal.Footer>\r\n            </form>\r\n          </Modal>\r\n        </div>\r\n      );\r\n    else\r\n      return (\r\n        <div>\r\n          Let me Load <LoadingSpinner></LoadingSpinner>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default TransactionPage;\r\n","import React, { Component } from \"react\";\r\n\r\nclass GameForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      description: \"\",\r\n      items: [\r\n        {\r\n          console: \"Choose a console\",\r\n          _id: 0,\r\n          serial_no: \"\",\r\n          mrp: \"\",\r\n          description: \"\",\r\n          status: \"Available\"\r\n        }\r\n      ],\r\n      old_items: [],\r\n      id_count: 0,\r\n      count: 1\r\n    };\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.handleForm = this.handleForm.bind(this);\r\n    this.onChangeOfAvailableButton = this.onChangeOfAvailableButton.bind(this);\r\n    this.nameChange = this.nameChange.bind(this);\r\n    this.descriptionChange = this.descriptionChange.bind(this);\r\n    this.itemsChange = this.itemsChange.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.mode === \"update\")\r\n      this.setState({\r\n        name: nextProps.name,\r\n        description: nextProps.description,\r\n        old_items: nextProps.items,\r\n        count: nextProps.count,\r\n        items: [],\r\n        count: 0\r\n      });\r\n  }\r\n\r\n  onAdd() {\r\n    let items = this.state.items;\r\n    items.push({\r\n      _id: this.state.id_count + 1,\r\n      serial_no: \"\",\r\n      console: \"\",\r\n      mrp: \"\",\r\n      new: true,\r\n      status: \"Available\"\r\n    });\r\n    console.log(items);\r\n    this.setState({\r\n      items: items,\r\n      id_count: this.state.id_count + 1,\r\n      count: this.state.count + 1\r\n    });\r\n  }\r\n  onChangeOfAvailableButton(e) {\r\n    console.log(e.target);\r\n    let temp_old_items = this.state.old_items;\r\n    for (let i = 0; i < temp_old_items.length; i++) {\r\n      if (temp_old_items[i]._id == e.target.id) {\r\n        temp_old_items[i].status =\r\n          temp_old_items[i].status === \"Unavailable\"\r\n            ? \"Available\"\r\n            : \"Unavailable\";\r\n      }\r\n    }\r\n    this.setState({\r\n      old_items: temp_old_items\r\n    });\r\n  }\r\n  onDelete(e) {\r\n    console.log(e.target.id);\r\n    let items = this.state.items;\r\n    console.log(items);\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (items[i]._id == e.target.id.toString()) {\r\n        console.log(\"Found\");\r\n        items.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(items);\r\n    this.setState({\r\n      items: items,\r\n      count: this.state.count - 1\r\n    });\r\n  }\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    console.log(this.state.count);\r\n    this.props.handleForm(\r\n      e,\r\n      this.state.count,\r\n      this.state.items,\r\n      this.state.old_items\r\n    );\r\n  }\r\n\r\n  nameChange(e) {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      name: e.target.value\r\n    });\r\n  }\r\n\r\n  descriptionChange(e) {\r\n    this.setState({\r\n      description: e.target.value\r\n    });\r\n  }\r\n\r\n  itemsChange(e) {\r\n    console.log(e.target.name, e.target.value, e.target.id);\r\n    let items = this.state.items;\r\n    for (let i = 0; i < items.length; i++) {\r\n      let item = items[i];\r\n      if (item._id === parseInt(e.target.id)) {\r\n        if (e.target.name === \"serial\") {\r\n          item.serial_no = e.target.value;\r\n        } else if (e.target.name === \"console\") {\r\n          item.console = e.target.value;\r\n        } else {\r\n          item.mrp = e.target.value;\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      items: items\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        <form onSubmit={this.handleForm}>\r\n          <div className=\"form-group\">\r\n            <label>Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"name\"\r\n              value={this.state.name}\r\n              required\r\n              onChange={this.nameChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Description: </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              value={this.state.description}\r\n              required\r\n              onChange={this.descriptionChange}\r\n            />\r\n          </div>\r\n          {this.state.old_items ? (\r\n            this.state.old_items.map(game => (\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-6\">\r\n                  <input\r\n                    id={game._id}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Serial No.\"\r\n                    name=\"serial\"\r\n                    disabled={true}\r\n                    value={game.serial_no}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group col-md-3\">\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id={game._id}\r\n                    name=\"console\"\r\n                    disabled={true}\r\n                  >\r\n                    <option>Choose a console</option>\r\n                    <option selected={game.console === \"PS4\"}>PS4</option>\r\n                    <option selected={game.console === \"XBOX One\"}>\r\n                      XBOX One\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group col-md-1 \">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Price\"\r\n                    name=\"price\"\r\n                    id={game._id}\r\n                    disabled={true}\r\n                    value={game.mrp}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-danger\"\r\n                    onClick={this.onChangeOfAvailableButton}\r\n                    disabled={game.responsible === \"Owner\" ? false : true}\r\n                    id={game._id}\r\n                  >\r\n                    {game.status === \"Available\"\r\n                      ? \"Make Unavailable\"\r\n                      : \"Make Available\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div />\r\n          )}\r\n          {this.state.items.map(game => (\r\n            <div className=\"form-row\" onChange={this.itemsChange}>\r\n              <div className=\"form-group col-md-6\">\r\n                <input\r\n                  type=\"text\"\r\n                  id={game._id}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Serial No.\"\r\n                  name=\"serial\"\r\n                  value={game.serial_no}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <select className=\"form-control\" name=\"console\" id={game._id}>\r\n                  <option selected={game.console === \"PS4\"}>PS4</option>\r\n                  <option selected={game.console === \"XBOX One\"}>\r\n                    XBOX One\r\n                  </option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-1 \">\r\n                <input\r\n                  type=\"text\"\r\n                  id={game._id}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Price\"\r\n                  name=\"price\"\r\n                  value={game.mrp}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-danger\"\r\n                  onClick={this.onDelete}\r\n                  id={game._id}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <div className=\"form-group\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={this.onAdd}\r\n            >\r\n              Add\r\n            </button>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"submit\"\r\n              value={this.props.mode === \"add\" ? \"Add new Game\" : \"Update Game\"}\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GameForm;\r\n","import React, { Component } from \"react\";\r\nimport GameForm from \"./gameForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass AddGame extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      redirect_to_dashboard: false,\r\n      game_name: \"\",\r\n      game_description: \"\",\r\n      game_properties: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n      count: 1,\r\n    };\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  onAdd() {\r\n    let temp_game_properties = this.state.game_properties;\r\n    temp_game_properties.push({\r\n      id: this.state.count + 1,\r\n      serial: \"\",\r\n      console: \"\",\r\n      mrp: \"\",\r\n    });\r\n    console.log(temp_game_properties);\r\n    this.setState({\r\n      game_properties: temp_game_properties,\r\n      count: this.state.count + 1,\r\n    });\r\n  }\r\n\r\n  onDelete(e) {\r\n    console.log(e.target.id);\r\n    let temp_game_properties = this.state.game_properties;\r\n    console.log(temp_game_properties);\r\n    for (let i = 0; i < temp_game_properties.length; i++) {\r\n      console.log(temp_game_properties[i].id.toString() == e.target.id);\r\n      if (temp_game_properties[i].id == e.target.id.toString()) {\r\n        console.log(\"Found\");\r\n        temp_game_properties.splice(i, 1);\r\n      }\r\n    }\r\n    console.log(temp_game_properties);\r\n    this.setState({\r\n      game_properties: temp_game_properties,\r\n    });\r\n  }\r\n\r\n  onSubmit(e, count, items) {\r\n    console.log(e.target, count);\r\n    console.log(`Form submitted:`);\r\n    console.log(`Game Name: ${e.target.name.value}`);\r\n    console.log(`Game Description: ${e.target.description.value}`);\r\n    console.log(\"Game Properties\");\r\n    items = [];\r\n    for (let i = 0; i < count; i++) {\r\n      console.log(\"hello\");\r\n      let index = 4 * i + 2;\r\n      let serial = e.target[index].value;\r\n      let consol = e.target[index + 1].value;\r\n      let mrp = e.target[index + 2].value;\r\n      items.push({\r\n        console: consol,\r\n        serial_no: serial,\r\n        status: \"Available\",\r\n        responsible: \"Owner\",\r\n        mrp: mrp,\r\n        description: \"Test\",\r\n      });\r\n\r\n      console.log(items[i]);\r\n    }\r\n\r\n    const newGame = {\r\n      name: e.target.name.value,\r\n      description: e.target.description.value,\r\n      items: items,\r\n    };\r\n\r\n    axios\r\n      .post(\"https://prayuj-gamerent.herokuapp.com/game/add\", newGame)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          redirect_to_dashboard: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    this.setState({\r\n      game_name: \"\",\r\n      game_description: \"\",\r\n      game_properties: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          console: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n      count: 1,\r\n    });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_dashboard) {\r\n      return <Redirect push to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let status = this.state.status;\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        {this.renderRedirect()}\r\n        <h3>Add New Game</h3>\r\n        <GameForm handleForm={this.onSubmit} mode=\"add\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddGame;\r\n","import React, { Component } from \"react\";\r\n\r\nclass CustomerForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n    if (props.mode === \"add\") {\r\n      this.state = {\r\n        mode: \"Add Customer\",\r\n        name: \"\",\r\n        email: \"\",\r\n        address: \"\",\r\n        address2: \"\",\r\n        city: \"\",\r\n        zip: \"\",\r\n        mobile_no: \"\",\r\n        alt_mobile_no: \"\",\r\n        show: true\r\n      };\r\n    }\r\n    if (props.mode === \"edit\") {\r\n      this.state = {\r\n        mode: \"Update this Customer\",\r\n        name: props.name,\r\n        email: props.email,\r\n        address: props.address,\r\n        address2: props.address2,\r\n        city: props.city,\r\n        zip: props.zip,\r\n        mobile_no: props.mobile_no,\r\n        alt_mobile_no: props.alt_mobile_no,\r\n        show: false\r\n      };\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      name: nextProps.name,\r\n      email: nextProps.email,\r\n      address: nextProps.address,\r\n      address2: nextProps.address2,\r\n      city: nextProps.city,\r\n      zip: nextProps.zip,\r\n      mobile_no: nextProps.mobile_no,\r\n      alt_mobile_no: nextProps.alt_mobile_no\r\n    });\r\n  }\r\n  render() {\r\n    const plan = this.state.show ? (\r\n      <div className=\"form-group\">\r\n        <select className=\"form-control\" name=\"plan\" required>\r\n          <option value=\"\" selected disabled hidden>\r\n            Choose a plan\r\n          </option>\r\n          <option>3 months, 1 game/month</option>\r\n          <option>6 months, 2 games/month</option>\r\n          <option>1 year, 4 games/month</option>\r\n        </select>\r\n      </div>\r\n    ) : (\r\n      <div />\r\n    );\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.props.onSubmit}>\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group col-md-5\">\r\n              <label for=\"inputEmail4\">Name</label>\r\n              <input\r\n                name=\"name\"\r\n                className=\"form-control\"\r\n                id=\"inputEmail4\"\r\n                placeholder=\"Name\"\r\n                defaultValue={this.state.name}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-5\">\r\n              <label for=\"inputPassword4\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                id=\"inputPassword4\"\r\n                placeholder=\"Email\"\r\n                defaultValue={this.state.email}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label for=\"inputAddress\">Address</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"address1\"\r\n              className=\"form-control\"\r\n              id=\"inputAddress\"\r\n              placeholder=\"1234 Main St\"\r\n              defaultValue={this.state.address}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label for=\"inputAddress2\">Address 2</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"address2\"\r\n              className=\"form-control\"\r\n              id=\"inputAddress2\"\r\n              placeholder=\"Apartment, studio, or floor\"\r\n              defaultValue={this.state.address2}\r\n            />\r\n          </div>\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group col-md-5\">\r\n              <label for=\"inputCity\">City</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"inputCity\"\r\n                defaultValue={this.state.city}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-2\">\r\n              <label for=\"inputZip\">Pincode </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"inputZip\"\r\n                defaultValue={this.state.zip}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group col-md-6\">\r\n              <label for=\"inputCity\">Mobile no.</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"mobileNo1\"\r\n                defaultValue={this.state.mobile_no}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label for=\"inputState\">Alternate Mobile no.</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"mobileNo2\"\r\n                defaultValue={this.state.alt_mobile_no}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {plan}\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"submit\"\r\n              value={this.state.mode}\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomerForm;\r\n","import React, { Component } from \"react\";\r\nimport CustomerForm from \"./customerForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass AddCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleForm = this.handleForm.bind(this);\r\n    this.state = {\r\n      redirect_to_dashboard: false,\r\n    };\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    let today = new Date();\r\n    let dd = today.getDate();\r\n    let mm = today.getMonth();\r\n    let yyyy = today.getFullYear();\r\n\r\n    console.log(\r\n      e.target.name.value,\r\n      e.target.email.value,\r\n      e.target.address1.value,\r\n      e.target.address2.value,\r\n      e.target.inputCity.value,\r\n      e.target.inputZip.value,\r\n      e.target.mobileNo1.value,\r\n      e.target.mobileNo2.value,\r\n      e.target.plan.value\r\n    );\r\n    let endDate;\r\n    let plan;\r\n    if (e.target.plan.value === \"3 months, 1 game/month\") {\r\n      endDate = new Date(yyyy, mm + 3, dd);\r\n      plan = \"3M1G\";\r\n    } else if (e.target.plan.value === \"6 months, 2 games/month\") {\r\n      endDate = new Date(yyyy, mm + 6, dd);\r\n      plan = \"6M2G\";\r\n    } else if (e.target.plan.value === \"1 year, 4 games/month\") {\r\n      endDate = new Date(yyyy + 1, mm, dd);\r\n      plan = \"1Y4G\";\r\n    }\r\n\r\n    let customer = {\r\n      name: e.target.name.value,\r\n      email: e.target.email.value,\r\n      address: e.target.address1.value,\r\n      address2: e.target.address2.value,\r\n      city: e.target.inputCity.value,\r\n      zip: e.target.inputZip.value,\r\n      mobile_no: e.target.mobileNo1.value,\r\n      alt_mobile_no: e.target.mobileNo2.value,\r\n      dateOfJoin: today,\r\n      membership: [{ plan: plan, start: today, end: endDate, active: true }],\r\n    };\r\n    console.log(customer);\r\n\r\n    axios\r\n      .post(\"https://prayuj-gamerent.herokuapp.com/add\", customer)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          redirect_to_dashboard: true,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        this.setState({\r\n          status: \"An Error has occured, check console log.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_dashboard) {\r\n      return <Redirect push to=\"/\" />;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <CustomerForm mode=\"add\" onSubmit={this.handleForm} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddCustomer;\r\n","import React, { Component } from \"react\";\r\nimport CustomerForm from \"./customerForm\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass UpdateCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      address2: \"\",\r\n      city: \"\",\r\n      zip: \"\",\r\n      mobile_no: \"\",\r\n      alt_mobile_no: \"\",\r\n      membership: [],\r\n    };\r\n    this.handleForm = this.handleForm.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/customer/\" + this.state.id)\r\n      .then((res) => {\r\n        this.setState({\r\n          name: res.data.name,\r\n          email: res.data.email,\r\n          address: res.data.address,\r\n          address2: res.data.address2,\r\n          city: res.data.city,\r\n          zip: res.data.zip,\r\n          mobile_no: res.data.mobile_no,\r\n          alt_mobile_no: res.data.alt_mobile_no,\r\n          membership: res.data.membership,\r\n        });\r\n        console.log(res.data);\r\n      });\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    console.log(\r\n      e.target.name.value,\r\n      e.target.email.value,\r\n      e.target.address1.value,\r\n      e.target.address2.value,\r\n      e.target.inputCity.value,\r\n      e.target.inputZip.value,\r\n      e.target.mobileNo1.value,\r\n      e.target.mobileNo2.value\r\n    );\r\n    // let endDate;\r\n    // let plan;\r\n    // if (e.target.plan.value === \"3 months, 1 game/month\") {\r\n    //   endDate = new Date(yyyy, mm + 3, dd);\r\n    //   plan = \"3M1G\";\r\n    // } else if (e.target.plan.value === \"6 months, 2 games/month\") {\r\n    //   endDate = new Date(yyyy, mm + 6, dd);\r\n    //   plan = \"6M2G\";\r\n    // } else if (e.target.plan.value === \"1 year, 4 games/month\") {\r\n    //   endDate = new Date(yyyy + 1, mm, dd);\r\n    //   plan = \"1Y4G\";\r\n    // }\r\n    let customer = {\r\n      id: this.state.id,\r\n      name: e.target.name.value,\r\n      email: e.target.email.value,\r\n      address: e.target.address1.value,\r\n      address2: e.target.address2.value,\r\n      city: e.target.inputCity.value,\r\n      zip: e.target.inputZip.value,\r\n      mobile_no: e.target.mobileNo1.value,\r\n      alt_mobile_no: e.target.mobileNo1.value,\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/update/\" +\r\n          this.state.id,\r\n        customer\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setRedirect();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    // console.log(customer);\r\n  }\r\n\r\n  setRedirect = () => {\r\n    console.log(\"Test\");\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/customer/\" + this.state.id} />;\r\n    }\r\n  };\r\n  render() {\r\n    console.log(this.state.id);\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <CustomerForm\r\n          mode=\"edit\"\r\n          onSubmit={this.handleForm}\r\n          name={this.state.name}\r\n          email={this.state.email}\r\n          address={this.state.address}\r\n          address2={this.state.address2}\r\n          city={this.state.city}\r\n          zip={this.state.zip}\r\n          mobile_no={this.state.mobile_no}\r\n          alt_mobile_no={this.state.alt_mobile_no}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// mode: \"Update this Customer\",\r\n//         name: props.name,\r\n//         email: props.email,\r\n//         address: props.address,\r\n//         address2: props.address2,\r\n//         city: props.city,\r\n//         zip: props.zip,\r\n//         mobile_no: props.mobile_no,\r\n//         alt_mobile_no: props.alt_mobile_no,\r\n//         show: false\r\n\r\nexport default UpdateCustomer;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass AddPlan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      name: \"\",\r\n      membership: [],\r\n      status: false,\r\n    };\r\n    this.handleForm = this.handleForm.bind(this);\r\n    this.getPlans = this.getPlans.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getPlans();\r\n  }\r\n\r\n  getPlans() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/customer/\" + this.state.id)\r\n      .then((res) => {\r\n        this.setState({\r\n          membership: res.data.membership,\r\n        });\r\n      });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    console.log(today);\r\n    return today;\r\n  }\r\n\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    let today = new Date();\r\n    let dd = today.getDate();\r\n    let mm = today.getMonth();\r\n    let yyyy = today.getFullYear();\r\n    let endDate;\r\n    let plan;\r\n    if (e.target.plan.value === \"3 months, 1 game/month\") {\r\n      endDate = new Date(yyyy, mm + 3, dd);\r\n      plan = \"3M1G\";\r\n    } else if (e.target.plan.value === \"6 months, 2 games/month\") {\r\n      endDate = new Date(yyyy, mm + 6, dd);\r\n      plan = \"6M2G\";\r\n    } else if (e.target.plan.value === \"1 year, 4 games/month\") {\r\n      endDate = new Date(yyyy + 1, mm, dd);\r\n      plan = \"1Y4G\";\r\n    }\r\n\r\n    let membership = this.state.membership;\r\n    for (let i = 0; i < membership.length; i++) {\r\n      membership[i].active = false;\r\n    }\r\n    let new_membership = {\r\n      plan: plan,\r\n      active: true,\r\n      start: today,\r\n      end: endDate,\r\n    };\r\n    membership.push(new_membership);\r\n    console.log(membership);\r\n\r\n    let data = {\r\n      membership: membership,\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/add_plan/\" +\r\n          this.state.id,\r\n        data\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.getPlans();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleForm}>\r\n          <div className=\"form-group\">\r\n            <select className=\"form-control\" name=\"plan\">\r\n              <option>Choose a plan</option>\r\n              <option>3 months, 1 game/month</option>\r\n              <option>6 months, 2 games/month</option>\r\n              <option>1 year, 4 games/month</option>\r\n            </select>\r\n          </div>\r\n          <input type=\"submit\" className=\"btn btn-primary\" value=\"Add Plan\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddPlan;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport GameForm from \"./gameForm\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nclass UpdateGame extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: props.match.params.id,\r\n      name: \"\",\r\n      description: \"\",\r\n      items: [\r\n        {\r\n          console: \"\",\r\n          id: 1,\r\n          serial: \"\",\r\n          mrp: \"\",\r\n        },\r\n      ],\r\n    };\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getGame();\r\n  }\r\n\r\n  onSubmit(e, count, items, old_items) {\r\n    console.log(e.target, count, items, old_items);\r\n    let temp_items = [];\r\n    for (let i = 0; i < count; i++) {\r\n      if (items[i].new === true) {\r\n        console.log(\"We are in new block\");\r\n        let index = 4 * i + 2 + old_items.length * 4;\r\n        let serial = e.target[index].value;\r\n        let consol = e.target[index + 1].value;\r\n        let mrp = e.target[index + 2].value;\r\n        console.log(i);\r\n        temp_items.push({\r\n          console: consol,\r\n          serial_no: serial,\r\n          status: \"Available\",\r\n          responsible: \"Owner\",\r\n          mrp: mrp,\r\n          description: \"Test\",\r\n        });\r\n      } else {\r\n        console.log(\"We are in old block\");\r\n        temp_items.push(items[i]);\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < old_items.length; i++) {\r\n      temp_items.push(old_items[i]);\r\n    }\r\n    console.log(temp_items);\r\n\r\n    const newGame = {\r\n      _id: this.state.id,\r\n      name: e.target.name.value,\r\n      description: e.target.description.value,\r\n      items: temp_items,\r\n    };\r\n\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/game/update/\" + this.state.id,\r\n        newGame\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setRedirect();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  getGame() {\r\n    axios\r\n      .get(\"https://prayuj-gamerent.herokuapp.com/game/\" + this.state.id)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          name: res.data.name,\r\n          description: res.data.description,\r\n          items: res.data.items,\r\n          count: res.data.items.length,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  setRedirect = () => {\r\n    console.log(\"Test\");\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect push to={\"/game/\" + this.state.id} />;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        {this.renderRedirect()}\r\n        <h3>Update Game</h3>\r\n        <GameForm\r\n          handleForm={this.onSubmit}\r\n          mode=\"update\"\r\n          name={this.state.name}\r\n          description={this.state.description}\r\n          items={this.state.items}\r\n          count={this.state.count}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //   name: nextProps.name,\r\n  //         description: nextProps.description,\r\n  //         items: nextProps.items,\r\n  //         count: nextProps.count\r\n}\r\n\r\nexport default UpdateGame;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Issue extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (props.match.params.mode === \"customer\")\r\n      this.state = {\r\n        mode: \"customer\",\r\n        customer_id: props.match.params.id,\r\n        show: false,\r\n        games: [],\r\n        console: [],\r\n        redirect_to_transaction: false,\r\n        modal_show: false,\r\n        button_disable: true,\r\n        otp_issued: false,\r\n        verifying: false,\r\n      };\r\n    else if (props.match.params.mode === \"game\")\r\n      this.state = {\r\n        mode: \"game\",\r\n        game_id: props.match.params.id,\r\n        show: false,\r\n        customers: [],\r\n        console: [],\r\n        redirect_to_transaction: false,\r\n        modal_show: false,\r\n        button_disable: true,\r\n        otp_issued: false,\r\n        verifying: false,\r\n      };\r\n    else if (props.match.params.mode === \"dashboard\")\r\n      this.state = {\r\n        mode: \"dashboard\",\r\n        customers: [],\r\n        show: true,\r\n        games: [],\r\n        console: [],\r\n        redirect_to_transaction: false,\r\n        modal_show: false,\r\n        button_disable: true,\r\n        otp_issued: false,\r\n        verifying: false,\r\n      };\r\n    this.handleForm = this.handleForm.bind(this);\r\n    this.handleGameChange = this.handleGameChange.bind(this);\r\n    this.confirmIssue = this.confirmIssue.bind(this);\r\n    this.modalClose = this.modalClose.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.getCustomerDetail();\r\n    this.getGames();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    console.log(this.state.mode, this.props.match.params.mode);\r\n    if (this.state.mode !== this.props.match.params.mode) {\r\n      if (this.props.match.params.mode === \"customer\")\r\n        this.setState(\r\n          {\r\n            mode: \"customer\",\r\n            customer_id: this.props.match.params.id,\r\n          },\r\n          () => {\r\n            this.getCustomerDetail();\r\n            this.getGames();\r\n          }\r\n        );\r\n      else if (this.props.match.params.mode === \"game\")\r\n        this.setState(\r\n          {\r\n            mode: \"game\",\r\n            game_id: this.props.match.params.id,\r\n          },\r\n          () => {\r\n            this.getCustomerDetail();\r\n            this.getGames();\r\n          }\r\n        );\r\n      else if (this.props.match.params.mode === \"dashboard\")\r\n        this.setState(\r\n          {\r\n            mode: \"dashboard\",\r\n            show: true,\r\n          },\r\n          () => {\r\n            this.getCustomerDetail();\r\n            this.getGames();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  getCustomerDetail() {\r\n    if (this.state.mode === \"customer\") {\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/customer/issue/\" +\r\n            this.state.customer_id\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({\r\n            customers: [res.data],\r\n          });\r\n          if (res.data.length == 0) {\r\n            console.log(\"No Active Membership\");\r\n            this.setState({\r\n              show: false,\r\n            });\r\n          } else if (res.data.plan === \"1Y4G\" && res.data.noOfGames < 4) {\r\n            console.log(\"4 game plan\");\r\n            this.setState({\r\n              show: true,\r\n            });\r\n          } else if (res.data.plan === \"6M2G\" && res.data.noOfGames < 2) {\r\n            console.log(\"2 game plan\");\r\n            this.setState({\r\n              show: true,\r\n            });\r\n          } else if (res.data.plan === \"3M1G\" && res.data.noOfGames < 1) {\r\n            console.log(\"1 game plan\");\r\n            this.setState({\r\n              show: true,\r\n            });\r\n          } else {\r\n            console.log(\"5th condition\");\r\n            this.setState({\r\n              show: false,\r\n            });\r\n          }\r\n          this.setState({\r\n            data: res.data[0],\r\n          });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      axios\r\n        .get(\"https://prayuj-gamerent.herokuapp.com/customer\")\r\n        .then((res) => {\r\n          let customers_to_display = [];\r\n          for (let i = 0; i < res.data.length; i++) {\r\n            if (res.data[i].latestMembership.active) {\r\n              if (\r\n                res.data[i].latestMembership.plan === \"1Y4G\" &&\r\n                res.data[i].noOfGames < 4\r\n              ) {\r\n                console.log(\"4 game plan\");\r\n                customers_to_display.push(res.data[i]);\r\n              } else if (\r\n                res.data[i].latestMembership.plan === \"6M2G\" &&\r\n                res.data[i].noOfGames < 2\r\n              ) {\r\n                console.log(\"2 game plan\");\r\n                customers_to_display.push(res.data[i]);\r\n              } else if (\r\n                res.data[i].latestMembership.plan === \"3M1G\" &&\r\n                res.data[i].noOfGames < 1\r\n              ) {\r\n                console.log(\"1 game plan\");\r\n                customers_to_display.push(res.data[i]);\r\n              } else {\r\n                console.log(\"5th condition\");\r\n              }\r\n            }\r\n          }\r\n          this.setState({\r\n            customers: customers_to_display,\r\n          });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n  getGames() {\r\n    if (this.state.mode === \"game\")\r\n      axios\r\n        .get(\"https://prayuj-gamerent.herokuapp.com/game/\" + this.state.game_id)\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({\r\n            games: [res.data],\r\n          });\r\n          if (res.data.numberAvailable > 0) {\r\n            this.setState({\r\n              show: true,\r\n            });\r\n          }\r\n          if (\r\n            res.data.numberPS4Available > 0 &&\r\n            res.data.numberXBOXAvailable > 0\r\n          ) {\r\n            this.setState({\r\n              console: [\"PS4\", \"XBOX One\"],\r\n            });\r\n          } else if (res.data.numberPS4Available > 0) {\r\n            this.setState({\r\n              console: [\"PS4\"],\r\n            });\r\n          } else if (res.data.numberXBOXAvailable > 0) {\r\n            this.setState({\r\n              console: [\"XBOX One\"],\r\n            });\r\n          } else {\r\n            this.setState({\r\n              console: [],\r\n            });\r\n          }\r\n        });\r\n    else\r\n      axios.get(\"https://prayuj-gamerent.herokuapp.com/game\").then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          games: res.data,\r\n        });\r\n      });\r\n  }\r\n\r\n  modalClose() {\r\n    {\r\n      this.setState({ modal_show: false });\r\n    }\r\n  }\r\n\r\n  confirmIssue(e) {\r\n    e.preventDefault();\r\n    console.log(\r\n      e.target.game.value,\r\n      e.target.console.value,\r\n      e.target.customer.value\r\n    );\r\n    this.setState({\r\n      otp_issued: false,\r\n      verifying: false,\r\n    });\r\n    if (\r\n      e.target.game.value != \"default\" &&\r\n      e.target.console.value != \"default\" &&\r\n      e.target.customer.value != \"default\"\r\n    ) {\r\n      this.setState({\r\n        modal_show: true,\r\n        game_id: e.target.game.value,\r\n        selected_console: e.target.console.value,\r\n        customer_id: e.target.customer.value,\r\n        button_disable: false,\r\n      });\r\n      console.log(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/generate_otp/id=\" +\r\n          e.target.customer.value +\r\n          \"&mode=Issuing\" +\r\n          \"&game=\" +\r\n          e.target.game.value +\r\n          \"&console=\" +\r\n          e.target.console.value\r\n      );\r\n      axios\r\n        .get(\r\n          \"https://prayuj-gamerent.herokuapp.com/customer/generate_otp/id=\" +\r\n            e.target.customer.value +\r\n            \"&mode=Issuing\" +\r\n            \"&game=\" +\r\n            e.target.game.value +\r\n            \"&console=\" +\r\n            e.target.console.value\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({ message: res.data.message, otp_issued: true });\r\n        });\r\n    } else this.setState({ modal_show: true });\r\n  }\r\n  handleForm(e) {\r\n    e.preventDefault();\r\n    console.log(e.target.otp.value);\r\n    let customer_id = this.state.customer_id;\r\n    let game_id = this.state.game_id;\r\n    let game_console = this.state.selected_console;\r\n    let data = {\r\n      game_id: game_id,\r\n      console: game_console,\r\n    };\r\n    this.setState({\r\n      verifying: true,\r\n    });\r\n    console.log(JSON.stringify(data));\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/verify_otp/\" +\r\n          customer_id,\r\n        {\r\n          otp: e.target.otp.value,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.isVerify);\r\n        if (res.data.isVerify) {\r\n          axios\r\n            .post(\r\n              \"https://prayuj-gamerent.herokuapp.com/customer/issue/\" +\r\n                customer_id,\r\n              data\r\n            )\r\n            .then((res) => {\r\n              if (res.data.game != \"Not Available\") {\r\n                this.setState({\r\n                  show: true,\r\n                });\r\n                this.setState({\r\n                  transactionid: res.data.game,\r\n                });\r\n                this.setRedirect();\r\n              } else {\r\n                alert(res.data.game);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              alert(JSON.stringify(err));\r\n            });\r\n        } else {\r\n          alert(\"Incorrect OTP, Issue again\");\r\n        }\r\n      });\r\n  }\r\n\r\n  handleGameChange(e) {\r\n    console.log(e.target.value);\r\n    let games = this.state.games;\r\n    for (let i = 0; i < games.length; i++) {\r\n      if (games[i]._id === e.target.value) {\r\n        if (\r\n          games[i].numberPS4Available > 0 &&\r\n          games[i].numberXBOXAvailable > 0\r\n        ) {\r\n          this.setState({\r\n            console: [\"PS4\", \"XBOX One\"],\r\n          });\r\n        } else if (games[i].numberPS4Available > 0) {\r\n          this.setState({\r\n            console: [\"PS4\"],\r\n          });\r\n        } else if (games[i].numberXBOXAvailable > 0) {\r\n          this.setState({\r\n            console: [\"XBOX One\"],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            console: [],\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect_to_transaction: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_transaction) {\r\n      return <Redirect push to={\"/transaction/\" + this.state.transactionid} />;\r\n    }\r\n  };\r\n  render() {\r\n    if (this.state.show) {\r\n      let customers;\r\n      let games;\r\n      let console =\r\n        this.state.console.length == 0 ? (\r\n          <select className=\"form-control\" name=\"console\" disabled={true}>\r\n            <option value=\"default\">Not Available</option>\r\n          </select>\r\n        ) : (\r\n          <select className=\"form-control\" name=\"console\">\r\n            {this.state.console.map((cons) => (\r\n              <option>{cons}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n      if (this.state.mode === \"customer\") {\r\n        customers = (\r\n          <select className=\"form-control\" name=\"customer\" disabled={true}>\r\n            {this.state.customers.map((customer) => (\r\n              <option value={customer._id}>{customer.name}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n        games = (\r\n          <select\r\n            className=\"form-control\"\r\n            name=\"game\"\r\n            onChange={this.handleGameChange}\r\n            required\r\n          >\r\n            <option value=\"\" selected disabled hidden>\r\n              Choose a Game\r\n            </option>\r\n            {this.state.games.map((game) => (\r\n              <option value={game._id}>{game.name}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n      }\r\n\r\n      if (this.state.mode === \"game\") {\r\n        customers = (\r\n          <select className=\"form-control\" name=\"customer\" required>\r\n            <option value=\"\" selected disabled hidden>\r\n              Choose a Customer\r\n            </option>\r\n            {this.state.customers.map((customer) => (\r\n              <option value={customer._id}>{customer.name}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n\r\n        games = (\r\n          <select className=\"form-control\" name=\"game\" disabled={true}>\r\n            {this.state.games.map((game) => (\r\n              <option value={game._id}>{game.name}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n      }\r\n\r\n      if (this.state.mode === \"dashboard\") {\r\n        customers = (\r\n          <select className=\"form-control\" name=\"customer\" required>\r\n            <option value=\"\" selected disabled hidden>\r\n              Choose a Customer\r\n            </option>\r\n            {this.state.customers.map((customer) => (\r\n              <option value={customer._id}>{customer.name}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n\r\n        games = (\r\n          <select\r\n            className=\"form-control\"\r\n            name=\"game\"\r\n            onChange={this.handleGameChange}\r\n            required\r\n          >\r\n            <option value=\"\" selected disabled hidden>\r\n              Choose a Game\r\n            </option>\r\n            {this.state.games.map((game) => (\r\n              <option value={game._id}>{game.name}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div>\r\n          {this.renderRedirect()}\r\n          <form onSubmit={this.confirmIssue}>\r\n            <label>Customer Name</label>\r\n            {customers}\r\n            <label>Game</label>\r\n            {games}\r\n            <label>Console</label>\r\n            {console}\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Issue OTP\"\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </form>\r\n          <Modal show={this.state.modal_show}>\r\n            <Modal.Header>\r\n              <Modal.Title>Game Issue</Modal.Title>\r\n            </Modal.Header>\r\n            <form onSubmit={this.handleForm}>\r\n              <Modal.Body>\r\n                {this.state.button_disable ? (\r\n                  <p>Fill in Details</p>\r\n                ) : (\r\n                  <>\r\n                    <div>Enter OTP</div>\r\n                    <input type=\"number\" name=\"otp\" />\r\n                    {this.state.otp_issued ? (\r\n                      <Toast>\r\n                        <Toast.Header>\r\n                          <strong className=\"mr-auto\">OTP</strong>\r\n                        </Toast.Header>\r\n                        <Toast.Body>{this.state.message}</Toast.Body>\r\n                      </Toast>\r\n                    ) : (\r\n                      <LoadingSpinner></LoadingSpinner>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </Modal.Body>\r\n\r\n              <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={this.modalClose}>\r\n                  Close\r\n                </Button>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  type=\"submit\"\r\n                  disabled={this.state.button_disable}\r\n                >\r\n                  {this.state.verifying ? (\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  ) : (\r\n                    \"Verify\"\r\n                  )}\r\n                </Button>\r\n              </Modal.Footer>\r\n            </form>\r\n          </Modal>\r\n        </div>\r\n      );\r\n    } else return <div>Can't Issue game</div>;\r\n  }\r\n}\r\n\r\nexport default Issue;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\nimport LoadingSpinner from \"./loadingSpinner\";\r\n\r\nclass Return extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props.match.params.id);\r\n    if (props.match.params.mode === \"customer\") {\r\n      this.state = {\r\n        mode: \"customer\",\r\n        id: props.match.params.id,\r\n        filtered: [],\r\n        modal_show: false,\r\n        ascendingCustomerName: true,\r\n        ascendingGameName: true,\r\n        ascendingDateIssue: true,\r\n        customerNameSortButtonValue: \"Sort\",\r\n        gameNameSortButtonValue: \"Sort\",\r\n        dateIssueButtonValue: <span>&darr;</span>,\r\n        otp_issued: false,\r\n        verifying: false,\r\n        games_to_return_loaded: false,\r\n      };\r\n    } else {\r\n      this.state = {\r\n        mode: \"dashboard\",\r\n        id: \"all\",\r\n        filtered: [],\r\n        modal_show: false,\r\n        ascendingCustomerName: true,\r\n        ascendingGameName: true,\r\n        ascendingDateIssue: true,\r\n        customerNameSortButtonValue: \"Sort\",\r\n        gameNameSortButtonValue: \"Sort\",\r\n        dateIssueButtonValue: <span>&darr;</span>,\r\n        otp_issued: false,\r\n        verifying: false,\r\n        games_to_return_loaded: false,\r\n      };\r\n    }\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.confirmReturn = this.confirmReturn.bind(this);\r\n    this.modalClose = this.modalClose.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onClickForSort = this.onClickForSort.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.getCustomerDetail();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    console.log(this.state.mode, this.props.match.params.mode);\r\n    if (this.state.mode !== this.props.match.params.mode) {\r\n      this.setState(\r\n        {\r\n          mode: this.props.match.params.mode,\r\n          id: this.props.match.params.id,\r\n        },\r\n        () => {\r\n          this.getCustomerDetail();\r\n        }\r\n      );\r\n    }\r\n  }\r\n  confirmReturn(e) {\r\n    console.log(e.target.id);\r\n    this.setState({\r\n      otp_issued: false,\r\n      verifying: false,\r\n    });\r\n    let ids = e.target.id.split(\" \");\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/generate_otp/id=\" +\r\n          ids[3] +\r\n          \"&mode=Returning\" +\r\n          \"&game=\" +\r\n          ids[1] +\r\n          \"&console=\" +\r\n          ids[4]\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({ message: res.data.message, otp_issued: true });\r\n      });\r\n    this.setState({\r\n      modal_show: true,\r\n      ids: ids,\r\n    });\r\n  }\r\n\r\n  modalClose() {\r\n    {\r\n      this.setState({ modal_show: false });\r\n    }\r\n  }\r\n  getCustomerDetail() {\r\n    axios\r\n      .get(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/return/\" + this.state.id\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          games_to_return: res.data,\r\n          filtered: res.data,\r\n          show: true,\r\n          games_to_return_loaded: true,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleChange(e) {\r\n    console.log(e.target.value);\r\n    // Variable to hold the original version of the list\r\n    let currentList = [];\r\n    // Variable to hold the filtered list before putting into state\r\n    let newList = [];\r\n\r\n    // If the search bar isn't empty\r\n    if (e.target.value !== \"\") {\r\n      //console.log(\"HERE 1\");\r\n      // Assign the original list to currentList\r\n      currentList = this.state.games_to_return;\r\n      let firstList = [];\r\n      let secondList = [];\r\n\r\n      // Use .filter() to determine which items should be displayed\r\n      // based on the search terms\r\n      firstList = currentList.filter((item) => {\r\n        // change current item to lowercase\r\n        const lc = item.gameInfo.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      secondList = currentList.filter((item) => {\r\n        // change current item to lowercase\r\n        const lc = item.customerInfo.name.toLowerCase();\r\n        // change search term to lowercase\r\n        const filter = e.target.value.toLowerCase();\r\n        // check to see if the current list item includes the search term\r\n        // If it does, it will be added to newList. Using lowercase eliminates\r\n        // issues with capitalization in search terms and search content\r\n        return lc.includes(filter);\r\n      });\r\n      newList = firstList.concat(secondList);\r\n      //console.log(newList);\r\n    } else {\r\n      //console.log(\"HERE 2\");\r\n      // If the search bar is empty, set newList to original task list\r\n      newList = this.state.filtered;\r\n    }\r\n    console.log(newList);\r\n    // Set the filtered state based on what our rules added to newList\r\n    this.setState({\r\n      filtered: newList,\r\n    });\r\n  }\r\n\r\n  convertDate(dates) {\r\n    var date = new Date(dates);\r\n    var dd = String(date.getDate()).padStart(2, \"0\");\r\n    var mm = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = date.getFullYear();\r\n    var today = dd + \"/\" + mm + \"/\" + yyyy;\r\n    var hours = String(date.getHours()).padStart(2, \"0\");\r\n    var minutes = String(date.getMinutes()).padStart(2, \"0\");\r\n    return today + \" (\" + hours + \":\" + minutes + \" hrs)\";\r\n  }\r\n\r\n  handleClick(e) {\r\n    e.preventDefault();\r\n    console.log(e.target.otp.value);\r\n    this.setState({\r\n      verifying: true,\r\n    });\r\n    let id = this.state.ids;\r\n    axios\r\n      .post(\r\n        \"https://prayuj-gamerent.herokuapp.com/customer/verify_otp/\" + id[3],\r\n        {\r\n          otp: e.target.otp.value,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.isVerify);\r\n        if (res.data.isVerify) {\r\n          axios\r\n            .post(\"https://prayuj-gamerent.herokuapp.com/customer/return/\", {\r\n              transaction_id: id[0],\r\n              game_id: id[1],\r\n              item_id: id[2],\r\n            })\r\n            .then((res) => {\r\n              console.log(res.data);\r\n              this.getCustomerDetail();\r\n              this.setState({\r\n                modal_show: false,\r\n                transactionid: id[0],\r\n              });\r\n              this.setRedirect();\r\n            })\r\n            .catch((err) => console.log(err));\r\n        } else {\r\n          this.setState({ verifying: false });\r\n          alert(\"Incorrect OTP, Issue again\");\r\n        }\r\n      });\r\n  }\r\n\r\n  onClickForSort(e) {\r\n    if (e.target.value === \"Customer Name\") {\r\n      let games_to_return = this.state.filtered;\r\n      games_to_return.sort((a, b) => {\r\n        var x = a.customerInfo.name.toLowerCase();\r\n        var y = b.customerInfo.name.toLowerCase();\r\n        if (this.state.ascendingCustomerName) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingCustomerName) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(games_to_return);\r\n      let arrow = this.state.ascendingCustomerName ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: games_to_return,\r\n        ascendingCustomerName: !this.state.ascendingCustomerName,\r\n        customerNameSortButtonValue: arrow,\r\n        gameNameSortButtonValue: \"Sort\",\r\n        dateIssueButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Game Name\") {\r\n      let games_to_return = this.state.filtered;\r\n      games_to_return.sort((a, b) => {\r\n        var x = a.gameInfo.name.toLowerCase();\r\n        var y = b.gameInfo.name.toLowerCase();\r\n        if (this.state.ascendingGameName) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingGameName) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      console.log(games_to_return);\r\n      let arrow = this.state.ascendingGameName ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: games_to_return,\r\n        ascendingGameName: !this.state.ascendingGameName,\r\n        gameNameSortButtonValue: arrow,\r\n        customerNameSortButtonValue: \"Sort\",\r\n        dateIssueButtonValue: \"Sort\",\r\n      });\r\n    }\r\n    if (e.target.value === \"Date Issue\") {\r\n      let games_to_return = this.state.filtered;\r\n      games_to_return.sort((a, b) => {\r\n        var x = a.date_issue;\r\n        var y = b.date_issue;\r\n        if (this.state.ascendingDateIssue) {\r\n          if (x < y) {\r\n            return 1;\r\n          }\r\n          if (x > y) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (!this.state.ascendingDateIssue) {\r\n          if (x < y) {\r\n            return -1;\r\n          }\r\n          if (x > y) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        }\r\n      });\r\n      let arrow = this.state.ascendingDateIssue ? (\r\n        <span>&darr;</span>\r\n      ) : (\r\n        <span>&uarr;</span>\r\n      );\r\n      this.setState({\r\n        filtered: games_to_return,\r\n        ascendingDateIssue: !this.state.ascendingDateIssue,\r\n        dateIssueButtonValue: arrow,\r\n        customerNameSortButtonValue: \"Sort\",\r\n        gameNameSortButtonValue: \"Sort\",\r\n      });\r\n    }\r\n  }\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect_to_transaction: true,\r\n    });\r\n  };\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect_to_transaction) {\r\n      return <Redirect push to={\"/transaction/\" + this.state.transactionid} />;\r\n    }\r\n  };\r\n  render() {\r\n    let games =\r\n      this.state.filtered.length > 0 ? (\r\n        this.state.filtered.map((game, index) => (\r\n          <tr>\r\n            <td>{index + 1}</td>\r\n            <td>{game.customerInfo.name}</td>\r\n            <td>{game.gameInfo.name}</td>\r\n            <td>{game.gameInfo.items.console}</td>\r\n            <td>{game.gameInfo.items.serial_no}</td>\r\n            <td>{this.convertDate(game.date_issue)}</td>\r\n            <input\r\n              type=\"button\"\r\n              value=\"Return\"\r\n              className=\"btn btn-primary\"\r\n              onClick={this.confirmReturn}\r\n              id={\r\n                game._id +\r\n                \" \" +\r\n                game.game_id +\r\n                \" \" +\r\n                game.item_id +\r\n                \" \" +\r\n                game.customer_id +\r\n                \" \" +\r\n                game.gameInfo.items.console\r\n              }\r\n            />\r\n          </tr>\r\n        ))\r\n      ) : (\r\n        <tr>\r\n          <td\r\n            colSpan=\"7\"\r\n            style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n          >\r\n            Nothing to Show!\r\n          </td>\r\n        </tr>\r\n      );\r\n    return (\r\n      <div>\r\n        {this.renderRedirect()}\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search...\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <div className=\"table-responsive-xl\">\r\n          <table className=\"table\" style={{ marginTop: 20 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>Sr</th>\r\n                <th>\r\n                  Customer Name\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Customer Name\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.customerNameSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  Game Name\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Game Name\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.gameNameSortButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>Console</th>\r\n                <th>Serial No</th>\r\n                <th>\r\n                  Issued\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    value=\"Date Issue\"\r\n                    onClick={this.onClickForSort}\r\n                    style={{ \"margin-left\": \"5%\" }}\r\n                  >\r\n                    {this.state.dateIssueButtonValue}\r\n                  </button>\r\n                </th>\r\n                <th>Return</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.games_to_return_loaded ? (\r\n                games\r\n              ) : (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"7\"\r\n                    style={{ position: \"relative\", top: \"50%\", left: \"50%\" }}\r\n                  >\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n\r\n            <Modal show={this.state.modal_show}>\r\n              <Modal.Header>\r\n                <Modal.Title>Game Return</Modal.Title>\r\n              </Modal.Header>\r\n              <form onSubmit={this.handleClick}>\r\n                <Modal.Body>\r\n                  <div>\r\n                    Enter OTP\r\n                    <input type=\"number\" name=\"otp\" />\r\n                  </div>\r\n                  {this.state.otp_issued ? (\r\n                    <Toast>\r\n                      <Toast.Header>\r\n                        <strong className=\"mr-auto\">OTP</strong>\r\n                      </Toast.Header>\r\n                      <Toast.Body>{this.state.message}</Toast.Body>\r\n                    </Toast>\r\n                  ) : (\r\n                    <LoadingSpinner></LoadingSpinner>\r\n                  )}\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer>\r\n                  <Button variant=\"secondary\" onClick={this.modalClose}>\r\n                    Close\r\n                  </Button>\r\n                  <Button variant=\"primary\" type=\"submit\">\r\n                    {this.state.verifying ? (\r\n                      <LoadingSpinner></LoadingSpinner>\r\n                    ) : (\r\n                      \"Verify\"\r\n                    )}\r\n                  </Button>\r\n                </Modal.Footer>\r\n              </form>\r\n            </Modal>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Return;\r\n","import React, { Component } from \"react\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return <h1>Page Not Found</h1>;\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { Component } from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Link,\n  Switch,\n  Redirect,\n  useLocation,\n} from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { PrivateRoute } from \"./components/PrivateRoute\";\nimport Login from \"./components/login\";\nimport Dashboard from \"./components/dashboard\";\nimport Customers from \"./components/customers\";\nimport Games from \"./components/games\";\nimport Transactions from \"./components/transactions\";\nimport GamePage from \"./components/gamePage\";\nimport CustomerPage from \"./components/customerPage\";\nimport TransactionPage from \"./components/transactionPage\";\nimport AddGame from \"./components/addGame\";\nimport AddCustomer from \"./components/addCustomer\";\nimport UpdateCustomer from \"./components/updateCustomer\";\nimport AddPlan from \"./components/addPlan\";\nimport UpdateGame from \"./components/updateGame\";\nimport Issue from \"./components/issue\";\nimport Return from \"./components/return\";\nimport NotFound from \"./components/notFound\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    let showNavbar = false;\n    if (localStorage.getItem(\"isLoggedIn\")) showNavbar = true;\n    let currentPath = window.location.pathname;\n    if (\n      currentPath.match(/^\\/customer/) ||\n      currentPath === \"/add_customer/\" ||\n      currentPath.match(/^\\/update_customer/)\n    ) {\n      console.log(\"1\");\n      this.state = {\n        active: \"customers\",\n        showNavbar: showNavbar,\n      };\n    } else if (\n      currentPath.match(/^\\/game/) ||\n      currentPath === \"/add_game/\" ||\n      currentPath.match(/^\\/update_game/)\n    ) {\n      console.log(\"2\");\n      this.state = {\n        active: \"games\",\n        showNavbar: showNavbar,\n      };\n    } else if (currentPath.match(/^\\/transaction/)) {\n      console.log(\"3\");\n      this.state = {\n        active: \"transactions\",\n        showNavbar: showNavbar,\n      };\n    } else if (currentPath.match(/^\\/issue/)) {\n      console.log(\"4\");\n      this.state = {\n        active: \"issue\",\n        showNavbar: showNavbar,\n      };\n    } else if (currentPath.match(/^\\/return/)) {\n      console.log(\"5\");\n      this.state = {\n        active: \"return\",\n        showNavbar: showNavbar,\n      };\n    } else {\n      console.log(\"6\");\n      this.state = {\n        active: \"dashboard\",\n        showNavbar: showNavbar,\n      };\n    }\n    this.state.expanded = false;\n    this.onCickHandler = this.onCickHandler.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handleLoginInApp = this.handleLoginInApp.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(window.location.pathname);\n  }\n\n  componentDidUpdate() {\n    console.log(window.location.pathname);\n  }\n\n  onCickHandler(e) {\n    console.log(e.target);\n    if (e.target.id === \"Home\") {\n      this.setState({\n        active: \"dashboard\",\n      });\n    } else if (e.target.id === \"Customers\") {\n      this.setState({\n        active: \"customers\",\n      });\n    } else if (e.target.id === \"Games\") {\n      this.setState({\n        active: \"games\",\n      });\n    } else if (e.target.id === \"Transactions\") {\n      this.setState({\n        active: \"transactions\",\n      });\n    } else if (e.target.id === \"Issue\") {\n      this.setState({\n        active: \"issue\",\n      });\n    } else if (e.target.id === \"Return\") {\n      this.setState({\n        active: \"return\",\n      });\n    }\n  }\n\n  handleLogout() {\n    localStorage.removeItem(\"isLoggedIn\");\n    this.setState({\n      showNavbar: false,\n    });\n  }\n\n  handleLoginInApp() {\n    this.setState({\n      showNavbar: true,\n    });\n  }\n\n  render() {\n    return (\n      <Router basename=\"/\">\n        {this.state.showNavbar ? (\n          <>\n            <Navbar\n              expand=\"lg\"\n              variant=\"dark\"\n              onSelect={(e) => {\n                this.setState({ expanded: false, active: e });\n              }}\n              expanded={this.state.expanded}\n            >\n              <Navbar.Toggle\n                aria-controls=\"responsive-navbar-nav\"\n                onClick={() =>\n                  this.setState({ expanded: !this.state.expanded })\n                }\n              />\n              <Navbar.Collapse id=\"responsive-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                  <Nav.Link\n                    as={Link}\n                    to=\"/\"\n                    eventKey=\"dashboard\"\n                    active={this.state.active === \"dashboard\"}\n                  >\n                    Dashboard\n                  </Nav.Link>\n                  <Nav.Link\n                    to=\"/customers\"\n                    as={Link}\n                    eventKey=\"customers\"\n                    active={this.state.active === \"customers\"}\n                  >\n                    Customers\n                  </Nav.Link>\n                  <Nav.Link\n                    as={Link}\n                    to=\"/games\"\n                    eventKey=\"games\"\n                    active={this.state.active === \"games\"}\n                  >\n                    Games\n                  </Nav.Link>\n                  <Nav.Link\n                    to=\"/transactions\"\n                    as={Link}\n                    eventKey=\"transactions\"\n                    active={this.state.active === \"transactions\"}\n                  >\n                    Transactions\n                  </Nav.Link>\n                  <Nav.Link\n                    to=\"/issue/mode=dashboard&id=0\"\n                    as={Link}\n                    eventKey=\"issue\"\n                    active={this.state.active === \"issue\"}\n                  >\n                    Issue\n                  </Nav.Link>\n                  <Nav.Link\n                    to=\"/return/mode=dashboard&id=all\"\n                    as={Link}\n                    eventKey=\"return\"\n                    active={this.state.active === \"return\"}\n                  >\n                    Return\n                  </Nav.Link>\n                </Nav>\n                <Nav>\n                  <Nav.Link onClick={this.handleLogout} eventKey=\"logout\">\n                    Logout\n                  </Nav.Link>\n                </Nav>\n              </Navbar.Collapse>\n            </Navbar>\n            {/* <nav className=\"navbar navbar-expand-lg navbar-dark\">\n              <div className=\"collpase navbar-collapse\">\n                <ul className=\"navbar-nav nav nav-pills mr-auto\">\n                  <li className=\"navbar-item\">\n                    <Link\n                      to=\"/\"\n                      className={\n                        this.state.active === \"dashboard\"\n                          ? \"nav-link active\"\n                          : \"nav-link\"\n                      }\n                      onClick={this.onCickHandler}\n                      id=\"Home\"\n                    >\n                      Dashboard\n                    </Link>\n                  </li>\n                  <li className=\"navbar-item\">\n                    <Link\n                      to=\"/customers\"\n                      className={\n                        this.state.active === \"customers\"\n                          ? \"nav-link active\"\n                          : \"nav-link\"\n                      }\n                      onClick={this.onCickHandler}\n                      id=\"Customers\"\n                    >\n                      Customers\n                    </Link>\n                  </li>\n                  <li className=\"navbar-item\">\n                    <Link\n                      to=\"/games\"\n                      className={\n                        this.state.active === \"games\"\n                          ? \"nav-link active\"\n                          : \"nav-link\"\n                      }\n                      onClick={this.onCickHandler}\n                      id=\"Games\"\n                    >\n                      Games\n                    </Link>\n                  </li>\n                  <li className=\"navbar-item\">\n                    <Link\n                      to=\"/transactions\"\n                      className={\n                        this.state.active === \"transactions\"\n                          ? \"nav-link active\"\n                          : \"nav-link\"\n                      }\n                      onClick={this.onCickHandler}\n                      id=\"Transactions\"\n                    >\n                      Transactions\n                    </Link>\n                  </li>\n                  <li className=\"navbar-item\">\n                    <Link\n                      to=\"/issue/mode=dashboard&id=0\"\n                      className={\n                        this.state.active === \"issue\"\n                          ? \"nav-link active\"\n                          : \"nav-link\"\n                      }\n                      onClick={this.onCickHandler}\n                      id=\"Issue\"\n                    >\n                      Issue\n                    </Link>\n                  </li>\n                  <li className=\"navbar-item\">\n                    <Link\n                      to=\"/return/mode=dashboard&id=all\"\n                      className={\n                        this.state.active === \"return\"\n                          ? \"nav-link active\"\n                          : \"nav-link\"\n                      }\n                      onClick={this.onCickHandler}\n                      id=\"Return\"\n                    >\n                      Return\n                    </Link>\n                  </li>\n                </ul>\n                <div class=\"navbar-collapse\">\n                  <ul class=\"navbar-nav ml-auto\">\n                    <li class=\"nav-item\">\n                      <Link className=\"nav-link\" onClick={this.handleLogout}>\n                        Logout\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </nav>\n           */}\n          </>\n        ) : (\n          <Login onSubmit={this.handleLoginInApp} />\n        )}\n        <Switch>\n          <PrivateRoute path=\"/\" exact component={Dashboard} />\n          <Route\n            path=\"/login\"\n            render={() => {\n              if (this.state.showNavbar) return <Redirect to=\"/\" />;\n              else console.log(\"Hello\");\n            }}\n          />\n          <PrivateRoute path=\"/customers\" component={Customers} />\n          <PrivateRoute path=\"/games\" component={Games} />\n          <PrivateRoute path=\"/transactions\" component={Transactions} />\n          <PrivateRoute path=\"/game/:id\" component={GamePage} />\n          <PrivateRoute path=\"/customer/:id\" component={CustomerPage} />\n          <PrivateRoute path=\"/transaction/:id\" component={TransactionPage} />\n          <PrivateRoute path=\"/add_game\" component={AddGame} />\n          <PrivateRoute path=\"/add_customer\" component={AddCustomer} />\n          <PrivateRoute\n            path=\"/update_customer/:id\"\n            component={UpdateCustomer}\n          />\n          <PrivateRoute path=\"/update_game/:id\" component={UpdateGame} />\n          <PrivateRoute path=\"/add_plan/:id\" component={AddPlan} />\n          <PrivateRoute path=\"/issue/mode=:mode&id=:id\" component={Issue} />\n          <PrivateRoute path=\"/return/mode=:mode&id=:id\" component={Return} />\n          <PrivateRoute component={NotFound} />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}